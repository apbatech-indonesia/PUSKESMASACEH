<div>
  <!-- <mat-progress-bar mode="indeterminate"></mat-progress-bar> -->
  <div class="app-inner-layout" style="margin: 0 auto; padding: 20px">
    <!-- <div >

    <input [formControl]="file" (change)="fileChange($event)" type="file" placeholder="File">
    <br>

    <button (click)="upload()">
        Upload
    </button>

</div> -->

    <!-- <input  (change)="onFileChange($event)"  id="file" type="file">         
<button [disabled]="!status"class="btn btn-primary" type="submit" (click)="submit()">Upload</button>

<img src="{{imageSrc}}"  /> -->
    <!-- <ng-select   [items]="tobat" bindLabel="obat"  bindValue="kdobat" 
  placeholder="Obat" [(ngModel)]="nmobat" (keyup)="cariobat($event)" >
  </ng-select> -->

    <div class="app-inner-layout__header-boxed p-0">
      <div
        class="app-inner-layout__header page-title-icon-rounded text-white bg-royal mb-4"
      >
        <div class="app-page-title">
          <div class="page-title-wrapper">
            <div class="page-title-heading">
              <div class="page-title-icon">
                <b style="color: black" (click)="diagnosaambilpcareall()">{{
                  noantrian
                }}</b>
              </div>
              <div>
                {{ norm }} | {{ pasien }}
                <div style="font-size: 14px">
                  {{ umur }} | {{ tgllahir }} |
                  <span class="badge rounded-pill bg-light">{{
                    jeniskelamin
                  }}</span>
                </div>
                <div style="font-size: 14px">
                  {{ nampoli }} | {{ costumer }}
                </div>
                <div style="font-size: 14px">{{ namdokter }}</div>
                <div style="font-size: 14px">{{ alamat }}</div>
                <div style="font-size: 14px">Prolanis : {{ pstProl }}</div>
                <div style="font-size: 14px">Prb : {{ pstPrb }}</div>

                <!-- <div class="btn-group" ngbDropdown *ngIf="talergishow">

                  <button class="mb-2 me-2 btn btn-danger" ngbDropdownToggle> <i style="font-size:15px ;"
                      class="pe-7s-gleam btn-icon-wrapper"></i>Alergi
                    <span class="badge rounded-pill bg-light">{{tjmlhalergi}}</span></button>


                  <div class="dropdown-menu-lg" ngbDropdownMenu>
                    <div class="dropdown-menu-header">
                      <div class="dropdown-menu-header-inner bg-primary">
                        <div class="menu-header-image dd-header-bg-2"></div>
                        <div class="menu-header-content">
                          <h5 class="menu-header-title">List Alergi </h5>
                          <h6 class="menu-header-subtitle"></h6>
                        </div>
                      </div>
                    </div>
                    <div class="grid-menu grid-menu-2col overflow-hidden">
                      <p *ngFor="let x of talergi"> - {{x.alergi}} </p>

                    </div>

                  </div>



                  <button class="mb-2 me-2 btn btn-primary"> {{statuspas}}
                  </button>
                </div> -->

                <!-- <div *ngIf="talergishow" style="border: 1px dashed white;border-radius: 10px;padding: 2px;">

              <span style="font-size: 12px;" > Alergi :  </span>
            </div> -->
              </div>
            </div>
            <div class="page-title-actions">
              <button
                *ngIf="dariklik === 'dokter'"
                class="btn btn-info btn-icon"
                routerLink="/master/ermdokter"
              >
                <span class="pe-2 opacity-7">
                  <fa-icon [icon]="faCog"></fa-icon>
                </span>
                Kembali
              </button>

              <button
                *ngIf="dariklik === 'all'"
                class="btn btn-info btn-icon"
                routerLink="/master/ermdokterrm"
              >
                <span class="pe-2 opacity-7">
                  <fa-icon [icon]="faCog"></fa-icon>
                </span>
                Kembali
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="mb-3">
      <!-- 
      <div *ngIf="showicarefarme">
      
        <button class="mb-2 me-2 btn-hover-shine btn-pill btn btn-success" (click)="keluaricare()">KELUAR ICARE UNTUK MELANJUTKAN MENULIS RESUME
        </button>
      
        <iframe *ngIf="monitoringshowcontenticare" width="100%" height="1000" [src]="icareurl"></iframe>
      </div> -->

      <ul ngbNav #nav1="ngbNav" class="nav-tabs">
        <li ngbNavItem (click)="showcppt()">
          <a ngbNavLink
            ><button
              class="mb-2 mr-2 btn-pill btn btn-dashed btn-outline-primary"
            >
              CPPT
            </button></a
          >

          <ng-template ngbNavContent>
            <div class="card main-card mb-3">
              <div class="card-header">
                <b
                  >Catatan Perkembangan Pasien Terintegrasi
                  <i
                    *ngIf="showdatacppt"
                    (click)="cetakresume()"
                    style="font-size: 20px"
                    class="font-icon-wrapper pe-7s-print"
                  >
                  </i>
                  <i
                    *ngIf="showdatacppt"
                    (click)="cetakriwayat()"
                    style="font-size: 20px"
                    class="font-icon-wrapper pe-7s-news-paper"
                  >
                  </i>
                </b>
              </div>

              <div class="card-body" style="border: 1px dashed grey">
                <table class="table table-striped" *ngIf="showkonsulrja">
                  <thead>
                    <tr>
                      <th scope="col"><b>Dari</b></th>

                      <th scope="col"><b>Pesan Konsultasi</b></th>
                    </tr>
                  </thead>

                  <tbody>
                    <tr *ngFor="let x of ttmpkonsulina">
                      <td style="font-size: 11px; color: black">
                        {{ x.namdokter }}
                      </td>
                      <td style="font-size: 11px; color: black">
                        <p>{{ x.isi }}</p>
                      </td>
                    </tr>
                  </tbody>
                </table>

                <div
                  class="position-relative mb-3"
                  *ngIf="
                    akses === 'Perawat' ||
                    akses === 'Dokter' ||
                    akses === 'RM' ||
                    akses === 'Manajemen'
                  "
                >
                  <label for="exampleEmail" class="form-label"
                    ><b>ASESMEN PERAWAT</b></label
                  >

                  <textarea
                    style="border: red 1px dashed"
                    rows="2"
                    [(ngModel)]="subjekp"
                    placeholder="Detail"
                    class="form-control"
                    autosize
                  ></textarea>
                </div>

                <div
                  class="position-relative mb-3"
                  *ngIf="
                    akses === 'Dokter' ||
                    akses === 'RM' ||
                    akses === 'Manajemen'
                  "
                >
                  <label for="exampleEmail" class="form-label"
                    ><b>SUBJEK | KELUHAN</b></label
                  >

                  <i
                    style="font-size: 20px"
                    (click)="openLargex(content7, 's')"
                    class="font-icon-wrapper pe-7s-copy-file"
                  >
                  </i>
                  <textarea
                    rows="2"
                    [(ngModel)]="subjek"
                    (keyup)="carisubjek($event.target.value)"
                    placeholder="Detail"
                    class="form-control"
                    autosize
                  ></textarea>

                  <table class="table table-striped" *ngIf="showtsubjek">
                    <tbody>
                      <tr *ngFor="let x of tsubjek">
                        <td
                          style="font-size: 12px"
                          (click)="pilihsub(x.details)"
                        >
                          <p [innerHTML]="x.detail"></p>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>

                <b>OBJEK {{ verifikasiangka }}</b>
                <div class="row">
                  <div class="col-md-2">
                    <div class="position-relative mb-3">
                      <label for="exampleCity" class="form-label"
                        >Heart Rate
                      </label>

                      <input
                        [(ngModel)]="hr"
                        type="number"
                        class="form-control"
                        (keyup)="chr($event)"
                      />
                      <span *ngIf="showhr" style="font-size: 9px; color: red"
                        >Refrensi Hr: (30 sd 160 bpm)</span
                      >
                    </div>
                  </div>

                  <div class="col-md-2">
                    <div class="position-relative mb-3">
                      <label for="exampleState" class="form-label"
                        >Kesadaran</label
                      >

                      <select
                        id="exampleSelect"
                        class="form-select"
                        [(ngModel)]="nadi"
                      >
                        <option value="01">Compos mentis</option>
                        <option value="02">Somnolence</option>
                        <option value="03">Sopor</option>
                        <option value="04">Coma</option>
                      </select>

                      <!-- <input  [(ngModel)]="nadi"    type="number" class="form-control" (keyup)="cnadi($event)"> -->
                      <!-- <span *ngIf="shownadi" style="font-size:9px;color: red;">Nadi : (60 - 160)</span> -->
                    </div>
                  </div>

                  <div class="col-md-2">
                    <div class="position-relative mb-3">
                      <label for="exampleState" class="form-label">Suhu</label>
                      <div class="input-group">
                        <input
                          [(ngModel)]="suhu"
                          type="number"
                          class="form-control"
                          (keyup)="csuhu($event)"
                        />
                        <div class="input-group-text">
                          <span class="">C</span>
                        </div>
                      </div>

                      <!-- <input  [(ngModel)]="suhu"    type="number" class="form-control" (keyup)="csuhu($event)"> -->
                      <span *ngIf="showsuhu" style="font-size: 9px; color: red"
                        >Refrensi Suhu : (25 sd 45)</span
                      >
                    </div>
                  </div>

                  <div class="col-md-2">
                    <div class="position-relative mb-3">
                      <label for="exampleState" class="form-label">RR</label>
                      <input
                        [(ngModel)]="rr"
                        type="number"
                        class="form-control"
                        (keyup)="crr($event)"
                      />
                      <span *ngIf="showrr" style="font-size: 9px; color: red"
                        >Refrensi Rr : (5 sd 70)</span
                      >
                    </div>
                  </div>

                  <div class="col-md-2">
                    <div class="position-relative mb-3">
                      <label for="exampleState" class="form-label">SPO2</label>
                      <input
                        [(ngModel)]="spo"
                        type="number"
                        class="form-control"
                        (keyup)="cpp($event)"
                      />
                      <span *ngIf="showpp" style="font-size: 9px; color: red"
                        >Spo : (95 - 100)</span
                      >
                    </div>
                  </div>
                  <div class="col-md-2">
                    <div class="position-relative mb-3">
                      <label for="exampleState" class="form-label"
                        >Lingkar Perut</label
                      >
                      <input
                        [(ngModel)]="lingkarperut"
                        type="number"
                        class="form-control"
                        (keyup)="cll($event)"
                      />
                      <span *ngIf="showlp" style="font-size: 9px; color: red"
                        >Refrensi lingkarperut : (25 - 300)</span
                      >
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-2">
                    <div class="position-relative mb-3">
                      <label for="exampleCity" class="form-label"
                        >Sistole</label
                      >

                      <input
                        [(ngModel)]="td"
                        type="number"
                        class="form-control"
                        (keyup)="ctd($event)"
                      />
                      <span *ngIf="showtd" style="font-size: 9px; color: red"
                        >Sistole hanya boleh di: 40 sd 250 mmhg
                      </span>
                    </div>
                  </div>
                  <div class="col-md-2">
                    <div class="position-relative mb-3">
                      <label for="exampleState" class="form-label"
                        >Distole</label
                      >
                      <input
                        [(ngModel)]="tdd"
                        type="number"
                        class="form-control"
                        (keyup)="ctdd($event)"
                      />
                      <span *ngIf="showtdd" style="font-size: 9px; color: red"
                        >Distole hanya boleh di : 30 sd 180 mmhg</span
                      >
                    </div>
                  </div>
                  <div class="col-md-2">
                    <div class="position-relative mb-3">
                      <label for="exampleState" class="form-label">TB</label>
                      <!-- <label for="exampleState" class="form-label">TB</label>
                  <input  [(ngModel)]="tb"    type="number" class="form-control" > -->
                      <div class="input-group">
                        <input
                          [(ngModel)]="tb"
                          placeholder="Tb"
                          type="number"
                          class="form-control"
                          (keyup)="ctb($event)"
                        />

                        <div class="input-group-text">
                          <span class="">CM</span>
                        </div>
                        <span *ngIf="showtb" style="font-size: 9px; color: red"
                          >Refrensi TB di : 30 sd 250 cm</span
                        >
                      </div>
                    </div>
                  </div>

                  <div class="col-md-2">
                    <div class="position-relative mb-3">
                      <label for="exampleState" class="form-label">BB</label>

                      <div class="input-group">
                        <input
                          [(ngModel)]="bb"
                          type="number"
                          class="form-control"
                          (keyup)="cbb($event)"
                        />
                        <div class="input-group-text">
                          <span class="">KG</span>
                        </div>
                      </div>
                      <span *ngIf="showbb" style="font-size: 9px; color: red"
                        >Refrensi BB adalah : (2 sd 300Kg)</span
                      >

                      <!-- <input  [(ngModel)]="bb"    type="number" class="form-control"  (keyup)="cbb($event)" >
                  -->
                    </div>
                  </div>
                  <div class="col-md-2">
                    <div class="position-relative mb-3">
                      <label for="exampleState" class="form-label">IMT</label>

                      <div class="input-group">
                        <input
                          [(ngModel)]="imt"
                          disabled
                          type="number"
                          class="form-control"
                        />
                        <div class="input-group-text">
                          <span class="">Kg/m2</span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-2">
                    <label for="exampleEmail" class="form-label"
                      >SKALA NYERI</label
                    >

                    <ng-select
                      [items]="cities3"
                      bindLabel="name"
                      bindValue="name"
                      placeholder="Select city"
                      [(ngModel)]="skalanyeri"
                    >
                      <ng-template ng-header-tmp> SKALA NYERI </ng-template>
                      <ng-template ng-label-tmp let-item="item">
                        <img
                          height="30"
                          width="30"
                          class="me-2 rounded"
                          [src]="item.avatar"
                        />
                        <b>{{ item.name }}</b>
                      </ng-template>
                      <ng-template
                        ng-option-tmp
                        let-item="item"
                        let-index="index"
                      >
                        <img
                          height="30"
                          width="30"
                          class="me-2 rounded"
                          [src]="item.avatar"
                        />
                        <b>{{ item.name }}</b>
                      </ng-template>
                    </ng-select>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-3">
                    <label for="exampleEmail" class="form-label"
                      >ALERGI MAKAN</label
                    >
                    <!-- <input [(ngModel)]="alergi" type="text" class="form-control"> -->

                    <select
                      id="exampleSelect"
                      class="form-select"
                      [(ngModel)]="alergi"
                      (change)="getSelectedOptionText($event, 'alergiText')"
                    >
                      <option value="00">Tidak ada</option>
                      <option value="01">Seafood</option>
                      <option value="02">Gandum</option>
                      <option value="03">Susu Sapi</option>
                      <option value="04">Kacang-Kacangan</option>
                      <option value="05">Makanan Lain</option>
                    </select>
                  </div>

                  <div class="col-md-3">
                    <label for="exampleEmail" class="form-label"
                      >ALERGI UDARA</label
                    >
                    <select
                      id="exampleSelect"
                      class="form-select"
                      [(ngModel)]="alergiudara"
                    >
                      <!-- <option  *ngFor="let x of talergiudara" value="{{x.kdAlergi}}">{{x.nmAlergi}}</option> -->
                      <option value="00">Tidak ada</option>
                      <option value="01">Udara Panas</option>
                      <option value="02">Udara Dingin</option>
                      <option value="03">Udara Kotor</option>
                    </select>
                  </div>

                  <div class="col-md-3">
                    <label for="exampleEmail" class="form-label"
                      >ALERGI OBAT</label
                    >
                    <select
                      id="exampleSelect"
                      class="form-select"
                      [(ngModel)]="alergiobat"
                    >
                      <option value="00">Tidak ada</option>
                      <option value="01">Antibiotik</option>
                      <option value="02">Antiinflamasi</option>
                      <option value="03">Non Steriod</option>
                      <option value="04">Aspirin</option>
                      <option value="05">Kortikosteroid</option>
                      <option value="06">Insulin</option>
                      <option value="07">Obat-obat lain</option>
                      <!-- <option  *ngFor="let x of talergiobat" value="{{x.kdAlergi}}">{{x.nmAlergi}}</option> -->
                    </select>
                  </div>

                  <div class="col-md-3">
                    <label for="exampleEmail" class="form-label"
                      >Catatan Diet</label
                    >
                    <input
                      type="text"
                      [(ngModel)]="catatandiet"
                      class="form-control"
                    />
                  </div>

                  <!-- <div class="col-md-4">
            <label for="exampleEmail" class="form-label">Gigi Yang Di Rawat</label>
        <input  [(ngModel)]="gigi"    type="text" class="form-control" >
        </div> -->
                </div>

                <div
                  class="position-relative mb-3"
                  *ngIf="
                    akses === 'Dokter' ||
                    akses === 'RM' ||
                    akses === 'Manajemen' ||
                    akses === 'Perawat'
                  "
                >
                  <div class="row">
                    <div class="col-md-6">
                      <label for="exampleEmail" class="form-label"
                        >PEMERIKSAAN FISIK</label
                      >

                      <i
                        style="font-size: 20px"
                        (click)="openLargex(content7, 'pf')"
                        class="font-icon-wrapper pe-7s-copy-file"
                      >
                      </i>
                      <textarea
                        rows="2"
                        [(ngModel)]="pf"
                        (keyup)="caripf($event.target.value)"
                        placeholder="Detail"
                        class="form-control"
                        autosize
                      ></textarea>
                    </div>

                    <div class="col-md-6">
                      <ul ngbNav #nav31="ngbNav" class="nav-tabs">
                        <li ngbNavItem>
                          <a ngbNavLink style="font-weight: bold"
                            >Riwayat Penyakit Sekarang</a
                          >
                          <ng-template ngbNavContent>
                            <ng-select
                              [items]="users"
                              placeholder="Select Category"
                              appendTo="body"
                              [multiple]="true"
                              [addTag]="addCustomUser"
                              [(ngModel)]="rwtp"
                            >
                            </ng-select>
                          </ng-template>
                        </li>

                        <li ngbNavItem>
                          <a ngbNavLink style="font-weight: bold"
                            >Riwayat Penyakit Dahulu</a
                          >
                          <ng-template ngbNavContent>
                            <textarea
                              rows="2"
                              [(ngModel)]="riwayatdahulu"
                              placeholder="Detail"
                              class="form-control"
                              autosize
                            ></textarea>
                          </ng-template>
                        </li>

                        <li ngbNavItem>
                          <a ngbNavLink style="font-weight: bold"
                            >Riwayat Penyakit Keluarga</a
                          >
                          <ng-template ngbNavContent>
                            <textarea
                              rows="2"
                              [(ngModel)]="riwayatkeluarga"
                              placeholder="Detail"
                              class="form-control"
                              autosize
                            ></textarea>
                          </ng-template>
                        </li>
                      </ul>
                      <div [ngbNavOutlet]="nav31"></div>
                    </div>
                  </div>

                  <table class="table table-striped" *ngIf="showtpf">
                    <tbody>
                      <tr *ngFor="let x of tpf">
                        <td
                          style="font-size: 12px"
                          (click)="pilihpf(x.details)"
                        >
                          <p [innerHTML]="x.detail"></p>
                        </td>
                      </tr>
                    </tbody>
                  </table>

                  <img style="width: 20%" [src]="gmburl" />

                  <ngb-accordion #acc="ngbAccordion" activeIds="ngb-panel-0">
                    <ngb-panel *ngIf="uploadh === '1'">
                      <ng-template ngbPanelTitle>
                        <span class="card-header--title"
                          >Tambahkan Image/formulir</span
                        >
                      </ng-template>
                      <ng-template ngbPanelContent>
                        <div class="row">
                          <div class="col-md-6">
                            <div
                              class="mb-2 me-2 badge rounded-pill bg-danger"
                              (click)="ksad()"
                            >
                              Clear
                            </div>
                            <div
                              class="mb-2 me-2 badge rounded-pill bg-info"
                              (click)="home('lppp')"
                            >
                              Tubuh
                            </div>
                            <div
                              class="mb-2 me-2 badge rounded-pill bg-info"
                              (click)="home('od')"
                            >
                              Organ
                            </div>
                            <div
                              class="mb-2 me-2 badge rounded-pill bg-info"
                              (click)="home('kep')"
                            >
                              Kepala
                            </div>
                            <div
                              class="mb-2 me-2 badge rounded-pill bg-info"
                              (click)="home('mulut')"
                            >
                              Mulut
                            </div>
                            <div
                              class="mb-2 me-2 badge rounded-pill bg-info"
                              (click)="home('penis')"
                            >
                              Kemaluan
                            </div>
                            <div
                              class="mb-2 me-2 badge rounded-pill bg-info"
                              (click)="odon()"
                            >
                              Odontogram Form
                            </div>

                            <div
                              class="mb-2 me-2 badge rounded-pill bg-info"
                              (click)="uploadx()"
                            >
                              Upload
                            </div>

                            <div *ngIf="showingmb">
                              <signature-pad
                                #signature
                                [options]="signaturePadOptions"
                                (drawStart)="drawStart($event)"
                                (drawEnd)="drawComplete($event)"
                              ></signature-pad>
                            </div>
                            <div *ngIf="!showingmb">
                              <div class="alert alert-info" *ngIf="showkkk">
                                Upload Gambar Tidak Lebih dari 4 Mb
                              </div>
                              <div *ngIf="!showkkk">
                                <img style="width: 50%" src="{{ imageSrc }}" />
                              </div>
                              <div class="custom-file mb-3">
                                <input
                                  class="form-control"
                                  (change)="onFileChange($event)"
                                  id="file"
                                  type="file"
                                  required
                                />

                                <div class="invalid-feedback">
                                  Example invalid custom file feedback
                                </div>
                              </div>
                            </div>

                            <div style="text-align: center" *ngIf="showingmb">
                              <div
                                class="mb-2 me-2 badge rounded-pill bg-warning"
                                (click)="simpang()"
                              >
                                Simpan Gambar
                              </div>
                            </div>
                            <div style="text-align: center" *ngIf="!showingmb">
                              <div
                                class="mb-2 me-2 badge rounded-pill bg-warning"
                                (click)="simpangu()"
                              >
                                Simpan Gambar
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <label for="exampleEmail" class="form-label"
                              ><b>KETERANGAN GAMBAR</b></label
                            >

                            <textarea
                              rows="2"
                              [(ngModel)]="keterangangambar"
                              (keyup)="caripf($event.target.value)"
                              placeholder="Detail"
                              class="form-control"
                              autosize
                            ></textarea>

                            <br />

                            <label for="exampleEmail" class="form-label"
                              ><b>KEADAAN FISIK</b></label
                            >

                            <div class="row">
                              <div class="col-md-6">
                                <table>
                                  <tr>
                                    <div class="card-body">
                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myValue"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Inspeksi
                                        </label>

                                        <textarea
                                          rows="1"
                                          [(ngModel)]="pfkulitinspeksi"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>
                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myValue"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Palpasi
                                        </label>

                                        <textarea
                                          rows="1"
                                          [(ngModel)]="pfkulitpalpasi"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>
                                    </div>
                                  </tr>
                                  <tr>
                                    <div class="card-body">
                                      <mat-checkbox
                                        [(ngModel)]="myvaluekuku"
                                        (change)="changeValueEvent()"
                                        >Pemeriksaan Kuku</mat-checkbox
                                      >

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluekuku"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Inspeksi
                                        </label>

                                        <textarea
                                          rows="1"
                                          [(ngModel)]="pfkukuinspeksi"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>
                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluekuku"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Palpasi
                                        </label>

                                        <textarea
                                          rows="1"
                                          [(ngModel)]="pfkukupalpasi"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>
                                    </div>
                                  </tr>

                                  <tr>
                                    <div class="card-body">
                                      <mat-checkbox
                                        [(ngModel)]="myvaluekepala"
                                        (change)="kkepala()"
                                        >Pemeriksaan Kepala</mat-checkbox
                                      >

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluekepala"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Inspeksi
                                        </label>

                                        <textarea
                                          rows="1"
                                          [(ngModel)]="pfkukuinspeksi"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>
                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluekepala"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Palpasi
                                        </label>

                                        <textarea
                                          rows="1"
                                          [(ngModel)]="pfkukupalpasi"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>
                                    </div>
                                  </tr>
                                  <tr>
                                    <div class="card-body">
                                      <mat-checkbox
                                        [(ngModel)]="myvaluewajah"
                                        (change)="kwajah()"
                                        >Pemeriksaan Wajah</mat-checkbox
                                      >

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluewajah"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Inspeksi
                                        </label>

                                        <textarea
                                          rows="1"
                                          [(ngModel)]="pfwajahinspeksi"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>
                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluewajah"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Palpasi
                                        </label>

                                        <textarea
                                          rows="1"
                                          [(ngModel)]="pfwajahpalpasi"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>
                                    </div>
                                  </tr>

                                  <tr>
                                    <div class="card-body">
                                      <mat-checkbox
                                        [(ngModel)]="myvaluemata"
                                        (change)="kmata()"
                                        >Pemeriksaan Mata</mat-checkbox
                                      >

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluemata"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Inspeksi
                                        </label>

                                        <textarea
                                          rows="1"
                                          [(ngModel)]="pfmatainspeksi"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>
                                    </div>
                                  </tr>

                                  <tr>
                                    <div class="card-body">
                                      <mat-checkbox
                                        [(ngModel)]="myvaluetelinga"
                                        (change)="ktelinga()"
                                        >Pemeriksaan Telinga</mat-checkbox
                                      >

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluetelinga"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Inspeksi
                                        </label>

                                        <textarea
                                          rows="1"
                                          [(ngModel)]="pftelingainspeksi"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluetelinga"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Palpasi
                                        </label>

                                        <textarea
                                          rows="1"
                                          [(ngModel)]="pftelingapalpasi"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>
                                    </div>
                                  </tr>
                                </table>
                              </div>

                              <div class="col-md-6">
                                <table>
                                  <tr>
                                    <div class="card-body">
                                      <mat-checkbox
                                        [(ngModel)]="myvaluehidung"
                                        (change)="khidung()"
                                        >Pemeriksaan Hidung &
                                        Sinus</mat-checkbox
                                      >

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluehidung"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Inspeksi
                                        </label>

                                        <textarea
                                          rows="1"
                                          [(ngModel)]="pfhidunginspeksi"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluehidung"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Palpasi dan Perkusi
                                        </label>

                                        <textarea
                                          rows="1"
                                          [(ngModel)]="pfhidungapalpasi"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>
                                    </div>
                                  </tr>

                                  <tr>
                                    <div class="card-body">
                                      <mat-checkbox
                                        [(ngModel)]="myvaluemulut"
                                        (change)="kmulut()"
                                        >Pemeriksaan mulut dan
                                        bibir</mat-checkbox
                                      >

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluemulut"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Inspeksi dan palpasi struktur luar
                                        </label>

                                        <textarea
                                          rows="1"
                                          [(ngModel)]="pfmulutinspeksi"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluemulut"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Inspeksi dan palpasi strukur dalam
                                        </label>

                                        <textarea
                                          rows="1"
                                          [(ngModel)]="pfmulutapalpasi"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>
                                    </div>
                                  </tr>

                                  <tr>
                                    <div class="card-body">
                                      <mat-checkbox
                                        [(ngModel)]="myvalueleher"
                                        (change)="kleher()"
                                        >Pemeriksaan leher</mat-checkbox
                                      >

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvalueleher"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Inspeksi leher
                                        </label>

                                        <textarea
                                          rows="1"
                                          placeholder="Detail"
                                          [(ngModel)]="pfleherinspeksi"
                                          class="form-control"
                                          autosize
                                        >
                                        </textarea>
                                      </div>

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvalueleher"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Inspeksi dan auskultasi arteri
                                          karotis
                                        </label>

                                        <textarea
                                          rows="1"
                                          placeholder="Detail"
                                          [(ngModel)]="pfleheria"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvalueleher"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Inspeksi dan palpasi kelenjer tiroid
                                        </label>

                                        <textarea
                                          [(ngModel)]="pfleherial"
                                          rows="1"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        ></textarea>
                                      </div>
                                    </div>
                                  </tr>

                                  <tr>
                                    <div class="card-body">
                                      <mat-checkbox
                                        [(ngModel)]="myvaluedada"
                                        (change)="kdada()"
                                        >Pemeriksaan dada & punggung
                                      </mat-checkbox>

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluedada"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Inspeksi
                                        </label>

                                        <textarea
                                          rows="1"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        >
Normal: simetris, bentuk dan postur normal, tidak ada tanda-tanda distress pernapasan, warna kulit sama dengan warna kulit lain, tidak ikterik/sianosis, tidak ada pembengkakan/penonjolan/edema
                                    </textarea
                                        >
                                      </div>

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluedada"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Palpasi
                                        </label>

                                        <textarea
                                          rows="1"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        >
Normal: integritas kulit baik, tidak ada nyeri tekan/massa/tanda-tanda peradangan, ekspansi simetris, taktil vremitus cendrung sebelah kanan lebih teraba jelas</textarea
                                        >
                                      </div>

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluedada"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Perkusi
                                        </label>

                                        <textarea
                                          rows="1"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        >
Normal: resonan (dug dug dug), jika bagian padat lebih daripada bagian udara=pekak (bleg bleg bleg), jika bagian udara lebih besar dari bagian padat=hiperesonan (deng deng deng), batas jantung=bunyi rensonan----hilang>>redup</textarea
                                        >
                                      </div>

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvaluedada"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Auskultasi
                                        </label>

                                        <textarea
                                          rows="1"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        >
Normal: bunyi napas vesikuler, bronchovesikuler, brochial, tracheal.</textarea
                                        >
                                      </div>
                                    </div>
                                  </tr>

                                  <tr>
                                    <div class="card-body">
                                      <mat-checkbox
                                        [(ngModel)]="myvalueperut"
                                        (change)="kperut()"
                                        >Pemeriksaan Abdomen
                                        (Perut)</mat-checkbox
                                      >

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvalueperut"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Inspeksi
                                        </label>

                                        <textarea
                                          rows="1"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        >
Normal: simetris kika, warna dengan warna kulit lain, tidak ikterik tidak terdapat ostomy, distensi, tonjolan, pelebaran vena, kelainan umbilicus.
                                    </textarea
                                        >
                                      </div>

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvalueperut"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Auskultasi
                                        </label>

                                        <textarea
                                          rows="1"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        >
 Normal:  suara peristaltic terdengar setiap 5-20x/dtk, terdengar denyutan arteri renalis, arteri iliaka dan aorta.
                                    </textarea
                                        >
                                      </div>
                                    </div>
                                  </tr>

                                  <tr>
                                    <div class="card-body">
                                      <mat-checkbox
                                        [(ngModel)]="myvalueatas"
                                        (change)="katas()"
                                        >Pemeriksaan ekstermitas
                                        atas</mat-checkbox
                                      >

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvalueatas"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Inspeksi struktur
                                          muskuloskletal</label
                                        >

                                        <textarea
                                          rows="1"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        >
Normal: simetris kika, integritas kulit baik, ROM aktif, kekuatan otot penuh.
                                    </textarea
                                        >
                                      </div>

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvalueatas"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Palapasi
                                        </label>

                                        <textarea
                                          rows="1"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        >
Normal: teraba jelas
                                    </textarea
                                        >
                                      </div>

                                      <div
                                        class="position-relative mb-3"
                                        *ngIf="myvalueatas"
                                      >
                                        <label
                                          for="exampleCity"
                                          class="form-label"
                                          >Tes reflex
                                        </label>

                                        <textarea
                                          rows="1"
                                          placeholder="Detail"
                                          class="form-control"
                                          autosize
                                        >
 Normal: reflek bisep dan trisep positif
                                    </textarea
                                        >
                                      </div>
                                    </div>
                                  </tr>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                      </ng-template>
                    </ngb-panel>
                  </ngb-accordion>
                </div>
                <div class="row" *ngIf="akses === 'Perawat'">
                  <div class="col-md-6">
                    <div class="position-relative mb-3">
                      <label
                        for="exampleSelect"
                        class="form-label"
                        style="color: black"
                        >KD TKP</label
                      >
                      <select
                        [(ngModel)]="kdtkp"
                        id="exampleSelect"
                        class="form-select"
                        required
                      >
                        <option value="10"><b>Rawat Jalan</b></option>
                        <option value="20"><b>Rawat Inap</b></option>
                        <option value="50"><b>Promotif</b></option>
                      </select>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="position-relative mb-3">
                      <label
                        for="exampleSelect"
                        class="form-label"
                        style="color: black"
                        >Jenis Kunjungan</label
                      >
                      <select
                        [(ngModel)]="jeniskun"
                        id="exampleSelect"
                        class="form-select"
                        required
                      >
                        <option value="true"><b>SAKIT</b></option>
                        <option value="false"><b>SEHAT</b></option>
                      </select>
                    </div>
                  </div>
                </div>
                <div
                  *ngIf="
                    akses === 'Dokter' ||
                    akses === 'RM' ||
                    akses === 'Manajemen'
                  "
                >
                  <b>ASSESMENT</b>

                  <div class="table-responsive">
                    <table
                      class="align-middle mb-0 table table-borderless table-hover"
                    >
                      <thead>
                        <tr
                          style="border-bottom: 0.5px solid rgb(230, 230, 230)"
                        >
                          <th scope="col" style="color: grey">
                            Diagnosa
                            <i
                              style="font-size: 20px"
                              (click)="openLargex(content7, 'diag')"
                              class="font-icon-wrapper pe-7s-copy-file"
                            >
                            </i>
                          </th>
                          <th scope="col" style="color: grey">
                            Tindakan
                            <i
                              style="font-size: 20px"
                              (click)="openLargex(content7, 'tindak')"
                              class="font-icon-wrapper pe-7s-copy-file"
                            >
                            </i>
                          </th>
                        </tr>
                      </thead>

                      <tbody style="font-size: 11px; color: black">
                        <tr>
                          <td>
                            <table
                              class="table table-striped"
                              *ngIf="showmunculdiagjudul"
                            >
                              <thead>
                                <tr
                                  style="
                                    border: 1px solid grey;
                                    border-right: 1px solid grey;
                                  "
                                >
                                  <th scope="col">Kode</th>
                                  <th scope="col">Diagnosa</th>
                                  <th scope="col">Aksi</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr
                                  *ngFor="let x of tdiag"
                                  style="border: 1px solid grey"
                                >
                                  <td
                                    style="
                                      font-size: 12px;
                                      color: black;
                                      border-right: 1px solid grey;
                                    "
                                  >
                                    <span *ngIf="x.kddiagnosa.length > 0">
                                      <span style="color: black"
                                        >{{ x.indexno }} |
                                      </span>
                                      {{ x.kddiagnosa }}
                                    </span>

                                    <span *ngIf="x.kddiagnosa.length <= 0">
                                      <i
                                        style="font-size: 15px"
                                        class="pe-7s-note btn-icon-wrapper"
                                        (click)="
                                          opendiagedit(
                                            contentdiag,
                                            x.diagnosa,
                                            x.no
                                          )
                                        "
                                      >
                                      </i>
                                    </span>
                                  </td>
                                  <td>
                                    {{ x.diagnosa }}<br />
                                    <span *ngIf="x.diag"
                                      >Diagnosa Ini tidak boleh dirujuk atau
                                      Jika dirujuk dengan TACC</span
                                    >
                                  </td>

                                  <td
                                    (click)="
                                      hapusdiag(x.notrans, x.no, x.diagnosa)
                                    "
                                  >
                                    <i
                                      style="font-size: 15px"
                                      class="pe-7s-trash btn-icon-wrapper"
                                    >
                                    </i>
                                  </td>
                                </tr>
                              </tbody>
                            </table>

                            <form [formGroup]="form">
                              <input
                                type="radio"
                                value="Kode"
                                formControlName="gender"
                              />
                              Kode
                              <input
                                type="radio"
                                value="Diagnosa"
                                formControlName="gender"
                              />
                              Diagnosa
                            </form>

                            <input
                              [(ngModel)]="diagnosa"
                              placeholder="Input/Enter/Klik"
                              (keyup)="caridiag($event)"
                              (click)="tahu()"
                              (keyup.enter)="sendit($event.target.value)"
                              type="text"
                              class="form-control"
                            />

                            <table
                              class="table table-striped"
                              *ngIf="dignosshow"
                            >
                              <thead>
                                <tr>
                                  <th scope="col">Kd Diagnosa</th>
                                  <th scope="col">Diagnosa</th>
                                  <th scope="col">Status</th>
                                  <th scope="col">Pilih</th>
                                </tr>
                              </thead>
                              <tbody>
                                <!-- <tr *ngFor="let x of diagnos" (click)="pilihdiag(x.kddiagnosa,x.diagnosa)"
                                  style="font-size: 12px;color:black">

                                  <td>

                                    {{x.kddiagnosa}}
                                  </td>
                                  <td>
                                    {{x.diagnosa}}<br>
                                    <span style="font-size: 10px;color:black;font-style: italic;">
                                      {{x.freetext}}</span><br>

                                  </td>
                                  <td>
                                    <p>{{x.diagnosaid}}</p>
                                  </td>
                                  <td>
                                    <button class="mb-2 me-2 btn-hover-shine btn-pill btn btn-success">+
                                    </button>

                                  </td>
                                </tr> -->

                                <tr
                                  *ngFor="let x of diagnose"
                                  style="font-size: 12px; color: black"
                                  (click)="
                                    pilihdiag(
                                      x.kdDiag,
                                      x.nmDiag,
                                      x.nonSpesialis
                                    )
                                  "
                                >
                                  <td>
                                    {{ x.kdDiag }}
                                  </td>
                                  <td>
                                    {{ x.nmDiag }}
                                  </td>
                                  <td>
                                    <p
                                      *ngIf="x.nonSpesialis"
                                      style="color: red; font-size: 12px"
                                    >
                                      Rujuk dengan TACC
                                    </p>
                                  </td>
                                  <td>
                                    <button
                                      class="mb-2 me-2 btn-hover-shine btn-pill btn btn-success"
                                    >
                                      +
                                    </button>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                          <td>
                            <ul ngbNav #nav3="ngbNav" class="nav-tabs">
                              <li ngbNavItem>
                                <a ngbNavLink style="font-weight: bold"
                                  >Link Tarif</a
                                >
                                <ng-template ngbNavContent>
                                  <table
                                    class="table table-striped"
                                    *ngIf="ttindakxshow"
                                  >
                                    <thead>
                                      <tr
                                        style="
                                          border: 1px solid grey;
                                          border-right: 1px solid grey;
                                        "
                                      >
                                        <th scope="col">Tarif</th>
                                        <th scope="col">Harga</th>
                                        <th scope="col">Disc</th>
                                        <th scope="col">Aksi</th>
                                      </tr>
                                    </thead>

                                    <tbody>
                                      <tr
                                        *ngFor="let x of ttindakx"
                                        style="border: 1px solid grey"
                                      >
                                        <!-- <div *ngIf="x.user === username"> -->

                                        <td
                                          *ngIf="x.user === username"
                                          style="font-size: 11px; color: black"
                                        >
                                          {{ x.produk }}
                                        </td>
                                        <td *ngIf="x.user === username">
                                          {{ x.harga | currency : "IDR" }}
                                        </td>
                                        <td *ngIf="x.user === username">
                                          <div
                                            class="badge bg-pill bg-info"
                                            (click)="
                                              diskonprodukp(
                                                content8diskon,
                                                x.nomor,
                                                x.kdproduk,
                                                x.produk,
                                                x.notransaksi,
                                                x.harga,
                                                x.nofaktur
                                              )
                                            "
                                          >
                                            Disc
                                          </div>
                                        </td>
                                        <td *ngIf="x.user === username">
                                          <i
                                            style="font-size: 15px"
                                            class="pe-7s-trash btn-icon-wrapper"
                                            (click)="
                                              hapusproduk(
                                                x.nomor,
                                                x.kdproduk,
                                                x.produk,
                                                x.notransaksi,
                                                x.harga,
                                                x.nofaktur,
                                                x.kridita,
                                                x.kdpoli,
                                                x.kdTindakanSK
                                              )
                                            "
                                          >
                                          </i>
                                        </td>
                                        <!-- </div> -->
                                      </tr>
                                    </tbody>
                                  </table>

                                  <!-- <input  [(ngModel)]="tindakan" placeholder="Cari"  (keyup)="caritindakan($event)"       type="text" class="form-control" > -->
                                  <input
                                    placeholder="Cari tarif"
                                    (click)="carilink(contentrjtarif)"
                                    type="text"
                                    class="form-control"
                                  />

                                  <table
                                    class="table table-striped"
                                    *ngIf="tindaksshow"
                                  >
                                    <thead>
                                      <tr>
                                        <th scope="col">Nama</th>
                                        <th scope="col">Harga</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr
                                        *ngFor="let x of tindaktarif"
                                        (click)="
                                          tambahtarif(
                                            x.kdtarif,
                                            x.nama,
                                            x.harga,
                                            contentdokter,
                                            contentperawat,
                                            x.kdTindakan
                                          )
                                        "
                                      >
                                        <td
                                          style="font-size: 12px; color: black"
                                        >
                                          {{ x.nama }}
                                        </td>
                                        <td>
                                          {{ x.harga | currency : "IDR" }}
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </ng-template>
                              </li>

                              <li ngbNavItem>
                                <a ngbNavLink style="font-weight: bold"
                                  >ICD 9 (Tindakan)</a
                                >
                                <ng-template ngbNavContent>
                                  <table
                                    class="table table-striped"
                                    *ngIf="ttindakshow"
                                  >
                                    <thead>
                                      <tr
                                        style="
                                          border: 1px solid grey;
                                          border-right: 1px solid grey;
                                        "
                                      >
                                        <th scope="col">Kode</th>
                                        <th scope="col">Tindakan</th>
                                        <th scope="col">Aksi</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr
                                        *ngFor="let x of ttindak"
                                        style="border: 1px solid grey"
                                      >
                                        <td
                                          style="
                                            font-size: 12px;
                                            color: black;
                                            border-right: 1px solid grey;
                                          "
                                        >
                                          {{ x.kddiagnosa }}
                                        </td>
                                        <td>
                                          {{ x.diagnosa }}
                                        </td>

                                        <td
                                          (click)="
                                            hapusdiag(
                                              x.notrans,
                                              x.no,
                                              x.diagnosa
                                            )
                                          "
                                        >
                                          <i
                                            style="font-size: 15px"
                                            class="pe-7s-trash btn-icon-wrapper"
                                          >
                                          </i>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>

                                  <form [formGroup]="form2">
                                    <input
                                      type="radio"
                                      value="Kode"
                                      formControlName="gender"
                                    />
                                    Kode
                                    <input
                                      type="radio"
                                      value="Tindakan"
                                      formControlName="gender"
                                    />
                                    Tindakan
                                  </form>

                                  <input
                                    [(ngModel)]="tindakanicd"
                                    (keyup)="caritindakanicd($event)"
                                    (keyup.enter)="senditx($event.target.value)"
                                    type="text"
                                    class="form-control"
                                  />

                                  <table
                                    class="table table-striped"
                                    *ngIf="tindaksshowicd"
                                  >
                                    <thead>
                                      <tr>
                                        <th scope="col">Kd Tindakan</th>
                                        <th scope="col">Tindakan</th>
                                        <th scope="col">Aksi</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr
                                        *ngFor="let x of tindak"
                                        (click)="
                                          pilihtindak(x.kdtindakan, x.tindakan)
                                        "
                                      >
                                        <td
                                          style="font-size: 12px; color: black"
                                        >
                                          {{ x.kdtindakan }}
                                        </td>
                                        <td>
                                          {{ x.tindakan }}
                                        </td>
                                        <td>
                                          <button
                                            class="mb-2 me-2 btn-hover-shine btn-pill btn btn-success"
                                          >
                                            +
                                          </button>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </ng-template>
                              </li>
                            </ul>
                            <div [ngbNavOutlet]="nav3"></div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  <div class="position-relative mb-3">
                    <label for="exampleEmail" class="form-label"
                      ><b>PLANNING</b></label
                    >

                    <i
                      style="font-size: 20px"
                      (click)="openLargex(content7, 'plan')"
                      class="font-icon-wrapper pe-7s-copy-file"
                    >
                    </i>

                    <textarea
                      rows="2"
                      [(ngModel)]="plan"
                      placeholder="Detail..."
                      class="form-control"
                      autosize
                    ></textarea>
                  </div>

                  <div class="position-relative mb-3">
                    <label for="exampleEmail" class="form-label"
                      ><b>TERAPI NON OBAT</b></label
                    >

                    <textarea
                      rows="2"
                      [(ngModel)]="terapinonobat"
                      placeholder="Detail..."
                      class="form-control"
                      autosize
                    ></textarea>
                  </div>

                  <div class="position-relative mb-3">
                    <label for="exampleEmail" class="form-label"
                      ><b>TERAPI OBAT</b></label
                    >

                    <textarea
                      rows="2"
                      [(ngModel)]="terapiObat"
                      placeholder="Detail..."
                      class="form-control"
                      autosize
                    ></textarea>
                  </div>

                  <div class="position-relative mb-3">
                    <!-- <label for="exampleEmail" class="form-label">TERAPI</label> -->

                    <!-- <i style="font-size:20px ;"  (click)="openLargex(content7,'terapi')" class="font-icon-wrapper pe-7s-copy-file"> </i> -->
                  </div>
                  <!-- <div class="mb-2 me-2 badge rounded-pill bg-success"  ></div><br> -->

                  <button
                    class="mb-2 me-2 btn-hover-shine btn-pill btn btn-success"
                    (click)="perminbatc()"
                  >
                    Permintaan Obat
                  </button>

                  <table class="table table-striped">
                    <thead>
                      <tr *ngIf="tlistobatnshow">
                        <th scope="col" style="font-weight: bold">
                          Terapi Non Racik
                        </th>

                        <th scope="col" style="font-weight: bold"></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let x of tlistobatn">
                        <td style="font-size: 11px; color: black">
                          <i
                            style="font-size: 16px"
                            class="pe-7s-angle-right-circle btn-icon-wrapper"
                          >
                          </i>
                          {{ x.nama }} | {{ x.aturan }} | {{ x.qty }} |
                          {{ x.keterangan }}
                        </td>
                        <td>
                          <div
                            *ngIf="x.kirim === 'Ya'"
                            class="mb-2 me-2 badge badge-dot bg-primary"
                          >
                            Sudah
                          </div>
                          <div
                            *ngIf="x.kirim === 'Tidak'"
                            class="mb-2 me-2 badge badge-dot bg-danger"
                          >
                            belum
                          </div>
                        </td>
                      </tr>
                    </tbody>

                    <thead>
                      <tr *ngIf="tlistobatrshow">
                        <th scope="col" style="font-weight: bold">
                          Terapi Racik
                        </th>
                      </tr>
                    </thead>
                    <tbody *ngFor="let x of tlistobatr">
                      <tr>
                        <td style="font-size: 13px; color: black">
                          <i
                            style="font-size: 16px"
                            class="pe-7s-angle-right-circle btn-icon-wrapper"
                          >
                          </i>

                          {{ x.namaracik }} | {{ x.aturan }} | {{ x.metode }} |
                          {{ x.qty }} | {{ x.keterangan }}
                        </td>
                      </tr>

                      <tr *ngFor="let y of x.detail">
                        <td style="font-size: 11px; color: black">
                          <div class="mb-2 me-2 badge badge-dot bg-primary">
                            Primary
                          </div>
                          {{ y.nama }} | {{ y.qty }} |
                          {{ y.keterangan }}
                        </td>
                      </tr>
                    </tbody>
                    <!-- BHP -->
                    <thead>
                      <tr>
                        <th scope="col">BHP Tindakan</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let x of tlistbhpr">
                        <td style="font-size: 11px; color: black">
                          {{ x.nama }} | {{ x.qty }}
                        </td>
                      </tr>
                    </tbody>

                    <!-- akhir -->
                  </table>

                  <!-- <div class="mb-2 me-2 badge rounded-pill bg-success"  (click)="perminbat(content5)">Permintaan Obat</div><br> -->

                  <!-- <div *ngIf="lab === '1'" class="mb-2 me-2 badge rounded-pill bg-info" (click)="perminlab(content6)">Permintaan Laboratorium</div> -->
                  <!-- <div  *ngIf="rad === '1'" class="mb-2 me-2 badge rounded-pill bg-warning"   (click)="perminrad(content2)">Permintaan Radiologi</div>4 -->
                  <p>INSTRUKSI PENUNJANG</p>

                  <button
                    *ngIf="lab === '1'"
                    class="mb-2 me-2 btn-hover-shine btn-pill btn btn-info"
                    (click)="perminlab(content6)"
                  >
                    Permintaan Laboratorium
                  </button>

                  <button
                    *ngIf="rad === '1'"
                    class="mb-2 me-2 btn-hover-shine btn-pill btn btn-warning"
                    (click)="perminrad(content2)"
                  >
                    Permintaan Radiologi
                  </button>

                  <button
                    class="mb-2 me-2 btn-hover-shine btn-pill btn btn-info"
                    (click)="perminkon(contentkonsultasi)"
                  >
                    Permintaan Konsultasi
                  </button>
                  <!-- <div  class="mb-2 me-2 badge rounded-pill bg-success"  >Rujukan Keluar</div> -->

                  <table class="table table-striped">
                    <thead>
                      <tr *ngIf="tlistlabshow">
                        <th *ngIf="lab === '1'" scope="col">
                          <b>Laboratorium</b>
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let x of tlistlab">
                        <td style="font-size: 11px; color: black">
                          <i
                            style="font-size: 16px"
                            class="pe-7s-angle-right-circle btn-icon-wrapper"
                          >
                          </i>
                          {{ x.nama }} -> {{ x.tgl }}
                        </td>
                      </tr>
                    </tbody>

                    <thead>
                      <tr *ngIf="tlistradshow">
                        <th *ngIf="rad === '1'" scope="col">
                          <b>Radiologi</b>
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let x of tlistrad">
                        <td style="font-size: 11px; color: black">
                          <i
                            style="font-size: 16px"
                            class="pe-7s-angle-right-circle btn-icon-wrapper"
                          >
                          </i>
                          {{ x.nama }} -> {{ x.tgl }}
                        </td>
                      </tr>
                    </tbody>
                  </table>

                  <table class="table table-striped" *ngIf="showkonsulrj">
                    <thead>
                      <tr>
                        <th scope="col"><b>Konsultasi Ke</b></th>

                        <th scope="col"><b>Isi</b></th>
                        <th scope="col"><b>Aksi</b></th>
                      </tr>
                    </thead>

                    <tbody>
                      <tr *ngFor="let x of ttmpkonsulin">
                        <td style="font-size: 11px; color: black">
                          {{ x.dokter }}
                        </td>
                        <td style="font-size: 11px; color: black">
                          <p>{{ x.isi }}</p>
                        </td>
                        <td>
                          <i
                            style="font-size: 15px"
                            class="pe-7s-trash btn-icon-wrapper"
                            (click)="
                              batalpriksa(
                                x.notrans,
                                x.norm,
                                x.kddokter,
                                x.kdpoli
                              )
                            "
                          >
                          </i>
                        </td>
                      </tr>
                    </tbody>
                  </table>

                  <tbody>
                    <tr *ngFor="let x of trujuk">
                      <td style="font-size: 11px; color: black">
                        {{ x.rujukanuntuk }} | {{ x.instansi }}
                      </td>
                    </tr>
                  </tbody>

                  <br />

                  <!-- <ngb-accordion *ngIf="pcare === '1'" #acc="ngbAccordion" activeIds="ngb-panel-0">
            <ngb-panel *ngIf="dash === 'BPJS'"> -->

                  <div class="row">
                    <div class="col-md-6">
                      <div class="position-relative mb-3">
                        <label
                          for="exampleSelect"
                          class="form-label"
                          style="color: black"
                          >Kode Prognosa
                          <span style="color: red">(wajib disi)</span></label
                        >
                        <select
                          [(ngModel)]="kdprognosa"
                          id="exampleSelect"
                          class="form-select"
                        >
                          <!-- <option *ngFor="let x of tprognosa" value="{{x.kdPrognosa}}"  >{{x.nmPrognosa}}</option> -->
                          <option value="01">Sanam (Sembuh)</option>
                          <option value="02">Bonam (Baik)</option>
                          <option value="03">Malam (Buruk/Jelek)</option>
                          <option value="04">Dubia Ad Sanam</option>
                          <option value="05">Dubia Ad Malam</option>
                        </select>
                      </div>
                    </div>

                    <div class="col-md-6">
                      <div class="position-relative mb-3">
                        <label
                          for="exampleSelect"
                          class="form-label"
                          style="color: black"
                        >
                          Kuisioner Status Keluarga
                        </label>
                        <input
                          type="text"
                          class="form-control"
                          [(ngModel)]="kondisiKeluarga"
                        />
                      </div>
                    </div>

                    <div class="col-md-3">
                      <div class="position-relative mb-3">
                        <label
                          for="exampleSelect"
                          class="form-label"
                          style="color: black"
                          >Status Pulang
                          <span style="color: red">(wajib disi)</span></label
                        >
                        <select
                          id="exampleSelect"
                          class="form-select"
                          [(ngModel)]="stspulang"
                          (change)="
                            pilihstatuspulang(
                              $event.target.value,
                              contentkonsultasi
                            )
                          "
                        >
                          <!-- <option *ngFor="let x of tpulang" value="{{x.kdStatusPulang}}">{{x.nmStatusPulang}}</option> -->
                          <option value="3">Berobat Jalan</option>
                          <option value="4">Rujuk Lanjut</option>
                          <option value="6">Rujuk Internal</option>
                          <option value="">----------------</option>
                          <option value="0">Sembuh - Rawat Inap</option>

                          <option value="1">Meninggal - Rawat Inap</option>
                          <option value="5">Rawat Inap</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-md-3">
                      <div class="position-relative mb-3">
                        <label
                          for="exampleSelect"
                          class="form-label"
                          style="color: black"
                          >Kesadaran</label
                        >
                        <select
                          id="exampleSelect"
                          class="form-select"
                          [(ngModel)]="kesadaran"
                        >
                          <option value="01">Compos mentis</option>
                          <option value="02">Somnolence</option>
                          <option value="03">Sopor</option>
                          <option value="04">Coma</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-md-3">
                      <div class="position-relative mb-3">
                        <label for="exampleEmail" class="form-label"
                          >Tanggal Pulang
                        </label>

                        <br />

                        <input
                          style="
                            border-radius: 5px;
                            border: solid 1px #ccc;
                            width: 11.5em;
                            height: 33px;
                          "
                          [(ngModel)]="myDate"
                          type="date"
                        />
                      </div>
                    </div>
                    <div class="col-md-3" *ngIf="tombollihatcetakpcare">
                      <label for="exampleEmail" class="form-label">Aksi </label>

                      <br />

                      <button
                        class="mb-2 me-2 btn-icon btn-icon-only btn-shadow btn-dashed btn btn-outline-primary"
                        (click)="cekkunjungan(contentkunjungan)"
                      >
                        <i
                          style="font-size: 15px"
                          class="pe-7s-note2 btn-icon-wrapper"
                        >
                        </i>
                      </button>
                    </div>
                  </div>

                  <div *ngIf="showrujuk" class="row">
                    <div class="col-md-3">
                      <div class="position-relative mb-3">
                        <label
                          for="exampleSelect"
                          class="form-label"
                          style="color: black"
                          >Tipe</label
                        >
                        <select
                          id="exampleSelect"
                          [(ngModel)]="tiperujuk"
                          (change)="pilihtiperujuk($event.target.value)"
                          class="form-select"
                        >
                          <option value="">-Pilih-</option>
                          <option value="01">Spesialis</option>
                          <option value="02">Khusus</option>
                        </select>
                      </div>
                    </div>

                    <div class="col-md-3">
                      <div class="position-relative mb-3" *ngIf="showrujuknon">
                        <label
                          for="exampleSelect"
                          class="form-label"
                          style="color: black"
                          >Spesialis</label
                        >
                        <select
                          id="exampleSelect"
                          class="form-select"
                          [(ngModel)]="spesialis"
                          (change)="pilihsubsp($event.target.value)"
                        >
                          <option value="">-Pilih-</option>
                          <option
                            *ngFor="let x of tspesialis"
                            value="{{ x.kdSpesialis }}"
                          >
                            {{ x.nmSpesialis }}
                          </option>
                        </select>
                      </div>

                      <div
                        class="position-relative mb-3"
                        *ngIf="showrujuknonkusus"
                      >
                        <label
                          for="exampleSelect"
                          class="form-label"
                          style="color: black"
                          >Refrensi Khusus</label
                        >
                        <select
                          id="exampleSelect"
                          class="form-select"
                          [(ngModel)]="khususap"
                          (change)="pilihrefkusus($event.target.value)"
                        >
                          <option value="">-Pilih-</option>
                          <option
                            *ngFor="let x of tkhusus"
                            value="{{ x.kdKhusus }}"
                          >
                            {{ x.nmKhusus }}
                          </option>
                        </select>
                      </div>

                      <div class="card main-card mb-3" *ngIf="showloadingper">
                        <div class="card-body">
                          <mat-progress-bar
                            mode="indeterminate"
                          ></mat-progress-bar>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-3">
                      <div class="position-relative mb-3" *ngIf="showrujuknon">
                        <label
                          for="exampleSelect"
                          class="form-label"
                          style="color: black"
                          >Sub Spesialis</label
                        >
                        <select
                          id="exampleSelect"
                          class="form-select"
                          [(ngModel)]="sspesialis"
                        >
                          <option value="">-Pilih-</option>
                          <option
                            *ngFor="let x of tspesialissub"
                            value="{{ x.kdSubSpesialis }}"
                          >
                            {{ x.nmSubSpesialis }}
                          </option>
                        </select>
                      </div>

                      <div
                        class="position-relative mb-3"
                        *ngIf="showrujuknonkusus"
                      >
                        <label for="exampleEmail" class="form-label"
                          >Rencana Tgl?
                        </label>

                        <br />

                        <input
                          style="
                            border-radius: 5px;
                            border: solid 1px #ccc;
                            width: 11.5em;
                            height: 33px;
                          "
                          [(ngModel)]="mydaterujuk"
                          type="date"
                        />
                      </div>

                      <div class="card main-card mb-3" *ngIf="showloadingpers">
                        <div class="card-body">
                          <mat-progress-bar
                            mode="indeterminate"
                          ></mat-progress-bar>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-3">
                      <div class="position-relative mb-3" *ngIf="showrujuknon">
                        <label
                          for="exampleSelect"
                          class="form-label"
                          style="color: black"
                          >Sarana?</label
                        >
                        <select
                          id="exampleSelect"
                          class="form-select"
                          [(ngModel)]="sarana"
                          (change)="ksarana($event.target.value)"
                        >
                          <option value="">-Pilih-</option>
                          <option value="0">Tidak</option>
                          <option value="02">Iya</option>
                        </select>
                      </div>
                      <div *ngIf="showrujuknonkusus">
                        <label for="exampleEmail" class="form-label"
                          >Cari Faskes Rujukan Khusus
                        </label>

                        <br />
                        <button
                          class="mb-2 me-2 btn-icon btn-icon-only btn-shadow btn-dashed btn btn-outline-primary"
                          (click)="klistfaskesx(contentfaskes)"
                        >
                          <i
                            style="font-size: 15px"
                            class="pe-7s-search btn-icon-wrapper"
                          >
                          </i>
                        </button>
                      </div>
                      <div class="card main-card mb-3" *ngIf="showfaskes">
                        <div class="card-body">
                          <mat-progress-bar
                            mode="indeterminate"
                          ></mat-progress-bar>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row" *ngIf="showthahem">
                    <div class="col-md-4">
                      <div class="position-relative mb-3">
                        <label
                          for="exampleSelect"
                          class="form-label"
                          style="color: black"
                          >Spesialis</label
                        >
                        <select
                          id="exampleSelect"
                          class="form-select"
                          [(ngModel)]="spesialis"
                          (change)="pilihsubsp($event.target.value)"
                        >
                          <option value="">-Pilih-</option>
                          <option
                            *ngFor="let x of tspesialis"
                            value="{{ x.kdSpesialis }}"
                          >
                            {{ x.nmSpesialis }}
                          </option>
                        </select>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="position-relative mb-3">
                        <label
                          for="exampleSelect"
                          class="form-label"
                          style="color: black"
                          >Sub Spesialis</label
                        >
                        <select
                          id="exampleSelect"
                          class="form-select"
                          [(ngModel)]="sspesialis"
                        >
                          <option value="">-Pilih-</option>
                          <option
                            *ngFor="let x of tspesialissub"
                            value="{{ x.kdSubSpesialis }}"
                          >
                            {{ x.nmSubSpesialis }}
                          </option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div *ngIf="showrujuk" class="row">
                    <div class="col-md-3">
                      <div class="position-relative mb-3" *ngIf="showrujuknon">
                        <label
                          for="exampleSelect"
                          class="form-label"
                          style="color: black"
                          >Nama Sarana</label
                        >
                        <select
                          id="exampleSelect"
                          class="form-select"
                          [(ngModel)]="nsarana"
                        >
                          <option value="">-Pilih-</option>
                          <option value="0">Tidak Tahu</option>
                          <option
                            *ngFor="let x of tsarana"
                            value="{{ x.kdSarana }}"
                          >
                            {{ x.nmSarana }}
                          </option>
                        </select>
                      </div>
                      <div class="card main-card mb-3" *ngIf="showloadingperss">
                        <div class="card-body">
                          <mat-progress-bar
                            mode="indeterminate"
                          ></mat-progress-bar>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-3">
                      <div class="position-relative mb-3" *ngIf="showrujuknon">
                        <label
                          for="exampleSelect"
                          class="form-label"
                          style="color: black"
                          >TACC</label
                        >

                        <select
                          id="exampleSelect"
                          class="form-select"
                          [(ngModel)]="kdtacc"
                          (change)="pilihtacc($event.target.value)"
                        >
                          <option value="-1">Tanpa TACC</option>
                          <option value="1">Time (Waktu)</option>
                          <option value="2">Age (Umur)</option>
                          <option value="3">Complication (Komplikasi)</option>
                          <option value="4">Comorbidity (Pemberat)</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-md-3">
                      <div class="position-relative mb-3" *ngIf="showrujuknon">
                        <label
                          for="exampleSelect"
                          class="form-label"
                          style="color: black"
                          >Alasan</label
                        >

                        <select
                          id="exampleSelect"
                          class="form-select"
                          [(ngModel)]="alasantacc"
                        >
                          <option value="">-- Pilih alasan ---</option>
                          <option *ngIf="showsatu" value="< 3 Hari">
                            < 3 Hari
                          </option>
                          <option *ngIf="showsatu" value=">= 3 - 7 Hari">
                            >= 3 - 7 Hari
                          </option>
                          <option *ngIf="showsatu" value=">= 7 Hari">
                            >= 7 Hari
                          </option>

                          <option *ngIf="showdua" value="< 1 Bulan">
                            < 1 Bulan
                          </option>
                          <option
                            *ngIf="showdua"
                            value=">= 1 Bulan s/d < 12 Bulan"
                          >
                            >= 1 Bulan s/d < 12 Bulan
                          </option>
                          <option
                            *ngIf="showdua"
                            value=">= 1 Tahun s/d < 5 Tahun"
                          >
                            >= 1 Tahun s/d < 5 Tahun
                          </option>
                          <option
                            *ngIf="showdua"
                            value=">= 5 Tahun s/d < 12 Tahun"
                          >
                            >= 5 Tahun s/d < 12 Tahun
                          </option>
                          <option
                            *ngIf="showdua"
                            value=">= 12 Tahun s/d < 55 Tahun"
                          >
                            >= 12 Tahun s/d < 55 Tahun
                          </option>
                          <option *ngIf="showdua" value=">= 55 Tahun">
                            >= 55 Tahun
                          </option>

                          <option *ngIf="showtiga">
                            {{ kddiagb }} - {{ namadiagb }}
                          </option>

                          <option *ngIf="showempat" value="< 3 Hari">
                            < 3 Hari
                          </option>
                          <option *ngIf="showempat" value=">= 3 - 7 Hari">
                            >= 3 - 7 Hari
                          </option>
                          <option *ngIf="showempat" value=">= 7 Hari">
                            >= 7 Hari
                          </option>
                        </select>
                      </div>
                    </div>

                    <div class="col-md-3">
                      <div class="position-relative mb-3" *ngIf="showrujuknon">
                        <label for="exampleEmail" class="form-label"
                          >Rencana Tgl?
                        </label>

                        <br />

                        <input
                          style="
                            border-radius: 5px;
                            border: solid 1px #ccc;
                            width: 11.5em;
                            height: 33px;
                          "
                          [(ngModel)]="mydaterujuk"
                          type="date"
                        />
                      </div>
                    </div>

                    <div
                      class="col-md-4"
                      style="text-align: le"
                      *ngIf="showrujuknon"
                    >
                      <label for="exampleEmail" class="form-label"
                        >Cari Faskes Rujukan
                      </label>

                      <br />
                      <button
                        class="mb-2 me-2 btn-icon btn-icon-only btn-shadow btn-dashed btn btn-outline-primary"
                        (click)="klistfaskes(contentfaskes)"
                      >
                        <i
                          style="font-size: 15px"
                          class="pe-7s-search btn-icon-wrapper"
                        >
                        </i>
                      </button>

                      <div class="card main-card mb-3" *ngIf="showfaskes">
                        <div class="card-body">
                          <mat-progress-bar
                            mode="indeterminate"
                          ></mat-progress-bar>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div *ngIf="showrujuk" class="row">
                    <div class="col-md-6">
                      {{ namafaskes }}
                    </div>
                  </div>

                  <ngb-accordion #acc="ngbAccordion" activeIds="ngb-panel-0">
                    <ngb-panel>
                      <ng-template ngbPanelTitle>
                        <span class="card-header--title">Kontrol Pasien</span>
                      </ng-template>
                      <ng-template ngbPanelContent style="border-radius: 25px">
                        <div class="position-relative mb-3">
                          <label for="exampleEmail" class="form-label"
                            ><b>Rencana TL Kunjungan Selanjutnya</b></label
                          >

                          <textarea
                            rows="2"
                            [(ngModel)]="plankon"
                            placeholder="Detail..."
                            class="form-control"
                            autosize
                          ></textarea>
                        </div>

                        <div class="position-relative mb-3">
                          <label for="exampleEmail" class="form-label"
                            >Tanggal Kontrol
                          </label>

                          <br />

                          <input
                            style="
                              border-radius: 5px;
                              border: solid 1px #ccc;
                              width: 11.5em;
                              height: 33px;
                            "
                            [(ngModel)]="myDatekon"
                            type="date"
                          />
                        </div>
                      </ng-template>
                    </ngb-panel>
                  </ngb-accordion>
                  <br />
                </div>
                <div class="row">
                  <div class="col-md-4"></div>
                  <div class="col-md-4">
                    <div class="d-grid gap-2">
                      <!-- <button class="mb-2 me-2 btn-square btn btn-info" (click)="simpan()">Simpan
                      </button> -->

                      <button
                        *ngIf="dariklik === 'dokter'"
                        (click)="simpan()"
                        [ladda]="progress"
                        class="ladda-button mb-2 me-2 btn-pill btn btn-info"
                        data-style="zoom-out"
                      >
                        <span class="ladda-label">Simpan </span>
                        <span class="ladda-spinner"> </span>
                      </button>

                      <button
                        *ngIf="dariklik === 'all'"
                        (click)="simpan()"
                        [ladda]="progress"
                        class="ladda-button mb-2 me-2 btn-pill btn btn-info"
                        data-style="zoom-out"
                      >
                        <span class="ladda-label">Simpan </span>
                        <span class="ladda-spinner"> </span>
                      </button>
                    </div>
                  </div>

                  <div class="col-md-4" style="text-align: right">
                    <b (click)="hapustransaksi()">
                      <i
                        style="font-size: 20px"
                        class="font-icon-wrapper pe-7s-trash btn"
                      >
                      </i>
                    </b>
                  </div>
                </div>

                <!-- </form> -->
              </div>
            </div>
          </ng-template>
        </li>

        <li ngbNavItem>
          <a ngbNavLink
            ><button
              class="mb-2 mr-2 btn-pill btn btn-dashed btn-outline-primary"
            >
              SKRINING
            </button></a
          >
          <ng-template ngbNavContent>
            <app-skrining
              [norm]="norm"
              [notrans]="notrans"
              [idpasien]="idpasien"
            >
            </app-skrining>
          </ng-template>
        </li>

        <li ngbNavItem>
          <a ngbNavLink
            ><button
              class="mb-2 mr-2 btn-pill btn btn-dashed btn-outline-primary"
            >
              PKG
            </button></a
          >
          <ng-template ngbNavContent>
            <app-pkg
              [norm]="norm"
              [notrans]="notrans"
              [idpasien]="idpasien"
            >
            </app-pkg>
          </ng-template>
        </li>

        <li ngbNavItem>
          <a ngbNavLink (click)="klikrwo()"
            ><button
              class="mb-2 mr-2 btn-pill btn btn-dashed btn-outline-primary"
            >
              TINDAKAN
            </button></a
          >

          <ng-template ngbNavContent>
            <table class="table table-striped" *ngIf="ttindakxshow">
              <thead>
                <tr
                  style="border: 1px solid grey; border-right: 1px solid grey"
                >
                  <th scope="col">Tarif</th>
                  <th scope="col">Harga</th>
                  <th scope="col">Disc</th>
                  <th scope="col">Aksi</th>
                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let x of ttindakx" style="border: 1px solid grey">
                  <!-- <div *ngIf="x.user === username"> -->

                  <td
                    *ngIf="x.user === username"
                    style="font-size: 11px; color: black"
                  >
                    {{ x.produk }}
                  </td>
                  <td *ngIf="x.user === username">
                    {{ x.harga | currency : "IDR" }}
                  </td>
                  <td *ngIf="x.user === username">
                    <div
                      class="badge bg-pill bg-info"
                      (click)="
                        diskonprodukp(
                          content8diskon,
                          x.nomor,
                          x.kdproduk,
                          x.produk,
                          x.notransaksi,
                          x.harga,
                          x.nofaktur
                        )
                      "
                    >
                      Disc
                    </div>
                  </td>
                  <td *ngIf="x.user === username">
                    <i
                      style="font-size: 15px"
                      class="pe-7s-trash btn-icon-wrapper"
                      (click)="
                        hapusproduk(
                          x.nomor,
                          x.kdproduk,
                          x.produk,
                          x.notransaksi,
                          x.harga,
                          x.nofaktur,
                          x.kridita,
                          x.kdpoli,
                          x.kdTindakanSK
                        )
                      "
                    >
                    </i>
                  </td>
                  <!-- </div> -->
                </tr>
              </tbody>
            </table>

            <input
              placeholder="Cari tarif"
              (click)="carilink(contentrjtarif)"
              type="text"
              class="form-control"
            />
          </ng-template>
        </li>

        <li ngbNavItem>
          <a ngbNavLink (click)="hasilmcu()"
            ><button
              class="mb-2 mr-2 btn-pill btn btn-dashed btn-outline-primary"
            >
              MCU
            </button></a
          >

          <ng-template ngbNavContent>
            <!-- <mcuComponent></mcuComponent> -->
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr
                    style="border: 1px solid grey; border-right: 1px solid grey"
                  >
                    <th scope="col">Td</th>
                    <th scope="col">Hemo</th>
                    <th scope="col">Leu</th>
                    <th scope="col">Erit</th>
                    <th scope="col">Laju</th>
                    <th scope="col">Hema</th>
                    <th scope="col">Trom</th>
                    <th scope="col">Hdl</th>
                    <th scope="col">Ldl</th>
                    <th scope="col">Chol</th>
                    <th scope="col">Trigeli</th>
                    <th scope="col">Sewaktu</th>
                    <th scope="col">Darah Puasa</th>
                    <th scope="col">Post Prandial</th>
                    <th scope="col">Hbaic</th>
                    <th scope="col">Sgot</th>
                    <th scope="col">Sgpt</th>
                    <th scope="col">Gama</th>
                    <th scope="col">Protkol</th>
                    <th scope="col">Albumin</th>
                    <th scope="col">Creatinin</th>
                    <th scope="col">Ureum</th>
                    <th scope="col">Asam</th>
                    <th scope="col">Abi</th>
                    <th scope="col">EKG</th>
                    <th scope="col">Echo</th>
                    <th scope="col">funduskopi</th>
                    <th scope="col">Pl</th>
                    <th scope="col">Ket</th>
                  </tr>
                </thead>

                <tbody>
                  <tr *ngFor="let x of tmcu" style="border: 1px solid grey">
                    <td style="font-size: 11px; color: black">
                      {{ x.tekananDarahSistole }} / {{ x.tekananDarahDiastole }}
                    </td>
                    <td>
                      {{ x.darahRutinHemo }}
                    </td>
                    <td>
                      {{ x.darahRutinLeu }}
                    </td>
                    <td>
                      {{ x.darahRutinErit }}
                    </td>
                    <td>
                      {{ x.darahRutinLaju }}
                    </td>
                    <td>
                      {{ x.darahRutinHema }}
                    </td>
                    <td>
                      {{ x.darahRutinTrom }}
                    </td>
                    <td>
                      {{ x.lemakDarahHDL }}
                    </td>
                    <td>
                      {{ x.lemakDarahLDL }}
                    </td>
                    <td>
                      {{ x.lemakDarahChol }}
                    </td>
                    <td>
                      {{ x.lemakDarahTrigli }}
                    </td>
                    <td>
                      {{ x.gulaDarahSewaktu }}
                    </td>
                    <td>
                      {{ x.gulaDarahPuasa }}
                    </td>
                    <td>
                      {{ x.gulaDarahPostPrandial }}
                    </td>
                    <td>
                      {{ x.gulaDarahHbA1c }}
                    </td>
                    <td>
                      {{ x.fungsiHatiSGOT }}
                    </td>
                    <td>
                      {{ x.fungsiHatiSGPT }}
                    </td>
                    <td>
                      {{ x.fungsiHatiGamma }}
                    </td>
                    <td>
                      {{ x.fungsiHatiProtKual }}
                    </td>
                    <td>
                      {{ x.fungsiHatiAlbumin }}
                    </td>
                    <td>
                      {{ x.fungsiGinjalCrea }}
                    </td>
                    <td>
                      {{ x.fungsiGinjalUreum }}
                    </td>
                    <td>
                      {{ x.fungsiGinjalAsam }}
                    </td>
                    <td>
                      {{ x.fungsiJantungABI }}
                    </td>
                    <td>
                      {{ x.fungsiJantungEKG }}
                    </td>
                    <td>
                      {{ x.fungsiJantungEcho }}
                    </td>
                    <td>
                      {{ x.funduskopi }}
                    </td>
                    <td>
                      {{ x.pemeriksaanLain }}
                    </td>
                    <td>
                      {{ x.keterangan }}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </ng-template>
        </li>

        <li ngbNavItem>
          <a ngbNavLink (click)="getriwayatkunjungan()"
            ><button
              class="mb-2 mr-2 btn-pill btn btn-dashed btn-outline-primary"
            >
              R.KUNJUNGAN
            </button></a
          >

          <ng-template ngbNavContent>
            <div class="card main-card mb-3" *ngIf="showloadingper">
              <div class="card-body">
                <mat-progress-bar mode="indeterminate"></mat-progress-bar>
              </div>
            </div>

            <table class="table table-striped">
              <thead>
                <tr
                  style="border: 1px solid grey; border-right: 1px solid grey"
                >
                  <th scope="col">Tgl</th>
                  <th scope="col">No</th>
                  <th scope="col">Poli</th>
                  <th scope="col">Dokter</th>
                  <th scope="col">Keluhan</th>
                  <th scope="col">Diagnosa</th>
                  <th scope="col">Status Pulang</th>
                  <th scope="col">Cetak</th>
                  <th scope="col">Hapus</th>
                </tr>
              </thead>

              <tbody>
                <tr
                  *ngFor="let x of listrwtkunjungan"
                  style="border: 1px solid grey"
                >
                  <td style="font-size: 11px; color: black">
                    {{ x.tglKunjungan }}
                  </td>
                  <td>
                    {{ x.noKunjungan }}
                  </td>

                  <td>
                    {{ x.poli.nmPoli }}
                  </td>
                  <td>
                    {{ x.dokter.nmDokter }}
                  </td>
                  <td>
                    {{ x.keluhan }}
                  </td>
                  <td>
                    {{ x.diagnosa1.kdDiag }} |
                    {{ x.diagnosa1.nmDiag }}
                  </td>
                  <td>
                    {{ x.statusPulang.nmStatusPulang }}
                  </td>
                  <td>
                    <button
                      class="mb-2 me-2 btn-icon btn-icon-only btn-shadow btn-dashed btn btn-outline-primary"
                      (click)="
                        cetakrwjkunjunganb(
                          x.noKunjungan,
                          x.statusPulang.kdStatusPulang
                        )
                      "
                    >
                      <i
                        style="font-size: 15px"
                        class="pe-7s-print btn-icon-wrapper"
                      >
                      </i>
                    </button>
                  </td>

                  <td>
                    <button
                      class="mb-2 me-2 btn-icon btn-icon-only btn-shadow btn-dashed btn btn-outline-primary"
                      (click)="
                        hapuskunjungan(
                          x.noKunjungan,
                          x.statusPulang.kdStatusPulang
                        )
                      "
                    >
                      <i
                        style="font-size: 15px"
                        class="pe-7s-trash btn-icon-wrapper"
                      >
                      </i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </ng-template>
        </li>

        <li ngbNavItem>
          <a ngbNavLink (click)="icare()"
            ><button
              class="mb-2 mr-2 btn-pill btn btn-dashed btn-outline-primary"
            >
              I CARE
            </button></a
          >

          <ng-template ngbNavContent>
            <div class="bg-white">
              <iframe
                *ngIf="monitoringshowcontenticare"
                width="100%"
                height="1000"
                [src]="icareurl"
              ></iframe>
            </div>
          </ng-template>
        </li>

        <li ngbNavItem>
          <a ngbNavLink (click)="klikrwo()"
            ><button
              class="mb-2 mr-2 btn-pill btn btn-dashed btn-outline-primary"
            >
              R.OBAT
              <span class="badge rounded-pill bg-danger">{{ jumlahobat }}</span>
            </button></a
          >

          <ng-template ngbNavContent>
            <div
              class="app-inner-layout__wrapper"
              [ngClass]="{ 'open-mobile-menu': toggleMobileSidebar }"
            >
              <div class="app-inner-layout__content card">
                <div class="app-inner-layout__top-pane pe-2">
                  <div class="pane-left">
                    <div class="mobile-app-menu-btn">
                      <button
                        type="button"
                        class="hamburger hamburger--elastic"
                        [ngClass]="{ 'is-active': toggleMobileSidebar }"
                        (click)="toggleMobileSidebar = !toggleMobileSidebar"
                      >
                        <span class="hamburger-box">
                          <span class="hamburger-inner"> </span>
                        </span>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="bg-white">
                  <div class="table-responsive tableFixHead">
                    <table class="table">
                      <thead>
                        <tr>
                          <th scope="col">Obat</th>

                          <th scope="col">Aturan</th>
                          <th scope="col">Qty</th>
                        </tr>
                      </thead>

                      <tbody style="font-size: 11px; color: black">
                        <tr *ngFor="let x of tobatad">
                          <td>
                            {{ x.nama }}
                          </td>
                          <td style="width: 210px">
                            <p>{{ x.aturan }}</p>
                          </td>
                          <td>
                            <p>{{ x.qty }}</p>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

              <div class="app-inner-layout__sidebar card">
                <ul class="nav flex-column">
                  <li class="nav-item-header nav-item">Riwayat Obat</li>
                  <li
                    class="nav-item"
                    *ngFor="let x of tobata"
                    (click)="klikobatrd(x.notransaksi, x.norm, x.kdpoli)"
                    style="border-bottom: 0.5px solid grey"
                  >
                    <a class="nav-link">
                      <div>
                        <span>{{ x.tglpriksa }}</span
                        ><br />
                        <span>{{ x.nampoli }}</span
                        ><br />
                      </div>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </ng-template>
        </li>

        <li ngbNavItem>
          <a ngbNavLink (click)="klikrw()"
            ><button
              class="mb-2 mr-2 btn-pill btn btn-dashed btn-outline-primary"
            >
              R.RESUME
            </button></a
          >

          <ng-template ngbNavContent>
            <div
              class="app-inner-layout__wrapper"
              [ngClass]="{ 'open-mobile-menu': toggleMobileSidebar }"
            >
              <div class="app-inner-layout__content card">
                <div class="app-inner-layout__top-pane pe-2">
                  <div class="pane-left">
                    <div class="mobile-app-menu-btn">
                      <button
                        type="button"
                        class="hamburger hamburger--elastic"
                        [ngClass]="{ 'is-active': toggleMobileSidebar }"
                        (click)="toggleMobileSidebar = !toggleMobileSidebar"
                      >
                        <span class="hamburger-box">
                          <span class="hamburger-inner"></span>
                        </span>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="bg-white">
                  <iframe
                    *ngIf="monitoringshowcontentrj"
                    width="100%"
                    height="1000"
                    [src]="monitoringurlrj"
                  ></iframe>
                </div>
              </div>

              <div class="app-inner-layout__sidebar card">
                <ul class="nav flex-column">
                  <li class="nav-item-header nav-item">Riwayat</li>
                  <li
                    class="nav-item"
                    *ngFor="let x of triwayatcppt"
                    (click)="lihatresume(x.notrans, x.norm, x.kdcabang)"
                    style="border-bottom: 0.5px solid grey"
                  >
                    <a class="nav-link">
                      <div>
                        <span>{{ x.tgl }}</span
                        ><br />
                        <span>{{ x.nampoli }}</span
                        ><br />
                        <span>{{ x.namdokter }}</span>
                      </div>
                      <!-- <i class="nav-link-icon pe-7s-angle-right" ></i><span>x</span>
                      <div class="ms-auto badge rounded-pill bg-info">Laborat</div> -->
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </ng-template>
        </li>
        <li ngbNavItem>
          <a ngbNavLink (click)="klab()"
            ><button
              class="mb-2 mr-2 btn-pill btn btn-dashed btn-outline-primary"
            >
              R.LABORAT
            </button></a
          >

          <ng-template ngbNavContent>
            <div
              class="app-inner-layout__wrapper"
              [ngClass]="{ 'open-mobile-menu': toggleMobileSidebar }"
            >
              <div class="app-inner-layout__content card">
                <div class="app-inner-layout__top-pane pe-2">
                  <div class="pane-left">
                    <div class="mobile-app-menu-btn">
                      <button
                        type="button"
                        class="hamburger hamburger--elastic"
                        [ngClass]="{ 'is-active': toggleMobileSidebar }"
                        (click)="toggleMobileSidebar = !toggleMobileSidebar"
                      >
                        <span class="hamburger-box">
                          <span class="hamburger-inner"></span>
                        </span>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="bg-white">
                  <div *ngIf="showuploadd">
                    <div class="alert alert-info" *ngIf="showkkkx">
                      Upload Gambar Tidak Lebih dari 4 Mb
                    </div>
                    <div *ngIf="!showkkkx">
                      <img style="width: 50%" src="{{ imageSrcx }}" />
                    </div>
                    <div class="position-relative mb-3">
                      <input
                        class="form-control"
                        (change)="onFileChangex($event)"
                        id="file"
                        type="file"
                        required
                      />

                      <div class="invalid-feedback">
                        Example invalid custom file feedback
                      </div>
                    </div>
                    <div class="position-relative mb-3">
                      <label
                        for="exampleCity"
                        class="form-label"
                        style="color: black"
                        >Keterangan</label
                      >

                      <input
                        name="text"
                        maxlength="18"
                        [(ngModel)]="keteranganakhirx"
                        class="form-control"
                      />
                    </div>

                    <button
                      class="btn-pill btn-shadow btn btn-primary"
                      (click)="simpanlab()"
                    >
                      SIMPAN
                    </button>
                  </div>

                  <iframe
                    *ngIf="monitoringshowcontent"
                    width="100%"
                    height="1000"
                    [src]="monitoringurl"
                  ></iframe>

                  <div class="table-responsive tableFixHead">
                    <table class="table">
                      <thead>
                        <tr>
                          <th scope="col">Pemeriksaan</th>
                          <th scope="col">Hasil</th>

                          <th scope="col">Satuan</th>
                          <th scope="col">Keterangan</th>
                          <th scope="col">Nilai Normal</th>
                          <th scope="col">Golongan</th>
                          <th scope="col">Status</th>
                          <th scope="col">Lacak</th>
                        </tr>
                      </thead>

                      <tbody
                        style="font-size: 11px; color: black"
                        *ngFor="let y of thasillab; let i = index"
                      >
                        <tr>
                          <td>
                            <b> {{ y.golongan }}</b>
                          </td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>

                          <td></td>
                          <td></td>
                        </tr>

                        <tr *ngFor="let x of y.detail; let i = index">
                          <td>
                            {{ x.nama }}
                          </td>
                          <td>
                            <input
                              style="border-radius: 5px; border: solid 1px #ccc"
                              disabled
                              placeholder="Hasil..."
                              type="text"
                              [(ngModel)]="x.hasil"
                            />
                          </td>
                          <td>
                            {{ x.satuan }}
                          </td>
                          <td>
                            <input
                              style="border-radius: 5px; border: solid 1px #ccc"
                              disabled
                              placeholder="keterangan..."
                              type="text"
                              [(ngModel)]="x.keterangan"
                            />
                          </td>
                          <td>
                            {{ x.refrensi }}
                          </td>
                          <td>
                            {{ x.golongan }}
                          </td>

                          <td>
                            <p *ngIf="x.warna === 'Merah'" style="color: red">
                              Tinggi
                            </p>
                            <p
                              *ngIf="x.warna === 'Merahl'"
                              style="color: yellow"
                            >
                              Tinggi
                            </p>
                            <p *ngIf="x.warna === 'Kuning'">Hati-Hati</p>
                            <p *ngIf="x.warna === 'Hitam'">Normal</p>
                          </td>
                          <td>
                            <i
                              style="font-size: 20px; color: rgb(1, 5, 255)"
                              class="pe-7s-graph3 btn-icon-wrapper"
                              (click)="
                                showgrafik(x.kdlab, x.nama, x.min, x.max)
                              "
                            >
                            </i>

                            <br />
                            <div *ngIf="x.kdlab === kdlabshow">
                              <div class="card-header-tab card-header">
                                <div class="card-header-title">
                                  <i
                                    class="header-icon lnr-rocket icon-gradient bg-tempting-azure"
                                  >
                                  </i>
                                  {{ nmlabshow }}
                                </div>
                                <div
                                  class="btn-actions-pane-right text-capitalize"
                                >
                                  <button
                                    *ngIf="kdlabshowc"
                                    class="btn-wide btn-outline-2x btn btn-outline-primary btn-sm"
                                    (click)="showgrafikx(x.kdlab)"
                                  >
                                    Batal
                                  </button>
                                </div>
                              </div>
                              <div class="widget-chart p-0">
                                <apx-chart
                                  [series]="[
                                    {
                                      name: nmlabshow,
                                      data: listtot
                                    }
                                  ]"
                                  [stroke]="{
                                    curve: 'smooth'
                                  }"
                                  [xaxis]="{ categories: listpol }"
                                  [chart]="{
                                    height: '250',
                                    width: '500',
                                    type: 'area'
                                  }"
                                  [annotations]="{
                                    yaxis: [
                                      {
                                        y: max,
                                        borderColor: 'red',
                                        label: {
                                          borderColor: 'red',
                                          style: {
                                            color: '#fff',
                                            background: 'red'
                                          },
                                          text: 'Batas Atas'
                                        }
                                      },
                                      {
                                        y: min,
                                        borderColor: 'red',
                                        label: {
                                          borderColor: 'red',
                                          style: {
                                            color: '#fff',
                                            background: 'red'
                                          },
                                          text: 'Batas Bawah'
                                        }
                                      }
                                    ]
                                  }"
                                ></apx-chart>
                              </div>
                              <div class="divider mb-0"></div>
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

              <div class="app-inner-layout__sidebar card">
                <ul class="nav flex-column">
                  <li class="pt-4 ps-3 pe-3 pb-3 nav-item">
                    <div class="d-grid">
                      <div class="row">
                        <div class="col-md-6">
                          <button
                            class="btn-pill btn-shadow btn btn-primary"
                            (click)="kuplab()"
                          >
                            UPLOAD
                          </button>
                        </div>
                        <div class="col-md-6">
                          <button
                            class="btn-pill btn-shadow btn btn-warning"
                            (click)="cetaklabview()"
                          >
                            VIEW PLUS
                          </button>
                        </div>
                      </div>
                    </div>
                  </li>
                  <li class="nav-item-header nav-item">Riwayat</li>
                  <li
                    class="nav-item"
                    *ngFor="let x of tlab"
                    (click)="
                      lihatlab(x.notrans, x.kdcabang, x.status, x.nmfile)
                    "
                  >
                    <a class="nav-link">
                      <i class="nav-link-icon pe-7s-angle-right"></i
                      ><span>{{ x.tgl }}</span>
                      <div
                        class="ms-auto badge rounded-pill bg-info"
                        *ngIf="x.status === '1'"
                      >
                        Laborat
                      </div>
                      <div
                        class="ms-auto badge rounded-pill bg-info"
                        *ngIf="x.status === '2'"
                      >
                        {{ x.keterangan }}
                      </div>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </ng-template>
        </li>
        <!-- <li ngbNavItem>
          <a
            ngbNavLink
            (click)="krad()"
            class="mb-2 me-2 btn btn-secondary"
            style="background-color: #16aaff"
            >Riwayat Radiologi</a
          >
          <ng-template ngbNavContent>
            <div
              class="app-inner-layout__wrapper"
              [ngClass]="{ 'open-mobile-menu': toggleMobileSidebar }"
            >
              <div class="app-inner-layout__content card">
                <div class="app-inner-layout__top-pane pe-2">
                  <div class="pane-left">
                    <div class="mobile-app-menu-btn">
                      <button
                        type="button"
                        class="hamburger hamburger--elastic"
                        [ngClass]="{ 'is-active': toggleMobileSidebar }"
                        (click)="toggleMobileSidebar = !toggleMobileSidebar"
                      >
                        <span class="hamburger-box">
                          <span class="hamburger-inner"></span>
                        </span>
                      </button>
                    </div>

                    <div class="bg-white">
                      <div *ngIf="showuploaddd">
                        <div class="alert alert-info" *ngIf="showkkkx">
                          Upload Gambar Tidak Lebih dari 4 Mb
                        </div>
                        <div *ngIf="!showkkkxx">
                          <img style="width: 50%" src="{{ imageSrcxx }}" />
                        </div>
                        <div class="position-relative mb-3">
                          <input
                            class="form-control"
                            (change)="onFileChangexx($event)"
                            id="file"
                            type="file"
                            required
                          />

                          <div class="invalid-feedback">
                            Example invalid custom file feedback
                          </div>
                        </div>
                        <div class="position-relative mb-3">
                          <label
                            for="exampleCity"
                            class="form-label"
                            style="color: black"
                            >Keterangan</label
                          >

                          <input
                            name="text"
                            maxlength="18"
                            [(ngModel)]="keteranganakhirxx"
                            class="form-control"
                          />
                        </div>

                        <button
                          class="btn-pill btn-shadow btn btn-primary"
                          (click)="simpanrad()"
                        >
                          SIMPAN
                        </button>
                      </div>

                      <iframe
                        *ngIf="monitoringshowcontent"
                        width="100%"
                        height="1000"
                        [src]="monitoringurl"
                      ></iframe>
                    </div>
                  </div>
                </div>
                <div class="bg-white">
                  <iframe
                    *ngIf="monitoringshowcontentx"
                    width="100%"
                    height="1000"
                    [src]="monitoringurlx"
                  ></iframe>
                </div>
              </div>

              <div class="app-inner-layout__sidebar card">
                <ul class="nav flex-column">
                  <li class="pt-4 ps-3 pe-3 pb-3 nav-item">
                    <div class="d-grid">
                      <button
                        class="btn-pill btn-shadow btn btn-primary"
                        (click)="kuprad()"
                      >
                        UPLOAD
                      </button>
                    </div>
                  </li>
                  <li class="nav-item-header nav-item">Riwayat</li>
                  <li
                    class="nav-item"
                    *ngFor="let x of trad"
                    (click)="
                      lihatrad(
                        x.notransaksi,
                        x.kdcabang,
                        x.kdproduk,
                        x.status,
                        x.nmfile
                      )
                    "
                  >
                    <a class="nav-link">
                      <i class="nav-link-icon pe-7s-angle-right"></i
                      ><span>{{ x.tgl }}</span>

                      <div
                        class="ms-auto badge rounded-pill bg-info"
                        *ngIf="x.status === '1'"
                      >
                        {{ x.nama }}
                      </div>
                      <div
                        class="ms-auto badge rounded-pill bg-info"
                        *ngIf="x.status === '2'"
                      >
                        Dari Luar
                      </div>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </ng-template>
        </li> -->

        <!-- KAJIAN AWAL -->

        <!-- <li ngbNavItem >
        <a ngbNavLink (click)="kestimasi()" style="font-weight: bold;">Estimasi Biaya</a>
        <ng-template ngbNavContent>
          <div class="table-responsive tableFixHead">
            <table  class="table">
              <thead >
                <tr >
                 
                 
                  <th scope="col" >Kode</th>
                 
                  <th scope="col" >Produk</th>
                  <th scope="col" >Tanggal</th>
               
                  <th scope="col" >Qty</th>
                  <th scope="col" >Total</th>
              
                </tr>
              </thead>
  
              <tbody style="font-size:11px;color:black" *ngFor="let x of testimasi">
                <tr>
                  <td   colspan="6">
                    <b>{{x.dari}}</b>
                  </td>
                
                
                 
                </tr>
              <tr *ngFor="let y of x.detail">
                  
                  <td >
                    {{y.kdproduk}}
                  </td>
                  <td  style="width: 210px;">
                    <p> {{y.nama}}</p>
                  </td>
                  <td >
                    {{y.tglpriksa}}
                  </td>
                  <td>
                    {{y.qty}}
                  </td>
                  <td>
                    {{y.harga | currency : 'IDR'}}
                  </td>
  
                 
                 
                
                </tr> 
               
               
              </tbody>


              <tbody style="font-size:11px;color:black">
                <tr *ngFor="let x of ttindakx"  >

               
               
                  <td  style="font-size: 11px;color:black">
                    <b>Rawat Jalan</b>
                
                  </td>
                  <td  >
                    {{x.produk}}
                 
                   
                  </td>
                  <td >
                    {{x.harga | currency:'IDR'}}
                  </td>
                  <td>
                    {{x.qty}}
                  </td>


                  <td>
                    {{x.harga | currency:'IDR'}}
                  </td>

                </tr>
             
              </tbody>


            </table>
            <div class="card-shadow-info border mb-3 card card-body border-grey">
              <h6 class="card-title">TOTAL</h6>
             <b>{{totalestimasi | currency : 'IDR'}}</b>

 

            </div>


          </div>
        </ng-template>
        </li> -->
        <li ngbNavItem>
          <a ngbNavLink
            ><button
              (click)="riwayatrj()"
              class="mb-2 mr-2 btn-pill btn btn-dashed btn-outline-primary"
            >
              R.RUJUKAN
            </button></a
          >

          <ng-template ngbNavContent>
            <div class="table-responsive tableFixHead">
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Tanggal</th>
                    <th scope="col">No Rujukan</th>

                    <th scope="col">Ke</th>

                    <th scope="col">Diagnosa</th>
                    <th scope="col">Aksi</th>
                  </tr>
                </thead>

                <tbody style="font-size: 11px; color: black">
                  <tr *ngFor="let x of trujukr">
                    <td>
                      {{ x.tglKunjungan }}
                    </td>
                    <td style="width: 210px">
                      {{ x.noRujukan }}
                    </td>
                    <td>
                      {{ x.nmPPK }}
                    </td>
                    <td>
                      {{ x.nmDiag }}
                    </td>
                    <td>
                      <button
                        class="mb-2 me-2 btn-icon btn-icon-only btn-shadow btn-dashed btn btn-outline-primary"
                        (click)="cetakrwrj(x.noRujukan)"
                      >
                        <i
                          style="font-size: 15px"
                          class="pe-7s-print btn-icon-wrapper"
                        >
                        </i>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </ng-template>
        </li>

        <li ngbNavItem>
          <a ngbNavLink
            ><button
              class="mb-2 mr-2 btn-pill btn btn-dashed btn-outline-primary"
            >
              Form EMR
            </button></a
          >

          <ng-template ngbNavContent>
            <div
              class="app-inner-layout__wrapper"
              [ngClass]="{ 'open-mobile-menu': toggleMobileSidebar }"
            >
              <div class="app-inner-layout__content card">
                <div class="app-inner-layout__top-pane pe-2">
                  <div class="pane-left">
                    <div class="mobile-app-menu-btn">
                      <button
                        type="button"
                        class="hamburger hamburger--elastic"
                        [ngClass]="{ 'is-active': toggleMobileSidebar }"
                        (click)="toggleMobileSidebar = !toggleMobileSidebar"
                      >
                        <span class="hamburger-box">
                          <span class="hamburger-inner"></span>
                        </span>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="bg-white">
                  <div *ngIf="halaman === '1'">
                    <app-KunjunganBumil> </app-KunjunganBumil>
                  </div>

                  <div *ngIf="halaman === '2'">
                    <app-CatatanImunisasi> </app-CatatanImunisasi>
                  </div>
                  <div *ngIf="halaman === '3'">
                    <app-BukuKontrasepsi> </app-BukuKontrasepsi>
                  </div>
                  <div *ngIf="halaman === '4'">
                    <app-Kebidanan></app-Kebidanan>
                  </div>
                  <div *ngIf="halaman === '5'">
                    <app-Partograf></app-Partograf>
                  </div>
                  <div *ngIf="halaman === '6'">
                    <app-PersetujuanTindakanMedis></app-PersetujuanTindakanMedis>
                  </div>

                  <div *ngIf="halaman === '7'">
                    <app-kajianperawat></app-kajianperawat>
                  </div>

                  <!-- <div *ngIf="halaman === '8'">
                          <app-asesmenper></app-asesmenper>
                      </div> -->
                </div>
              </div>

              <div class="app-inner-layout__sidebar card">
                <ul class="nav flex-column">
                  <li class="nav-item-header nav-item">Formulir</li>

                  <li class="nav-item">
                    <a class="nav-link" (click)="lihatbid('7')">
                      <i class="nav-link-icon pe-7s-angle-right"></i
                      ><span>Kajian Awal</span>
                    </a>
                  </li>

                  <!-- <li class="nav-item" >
                            <a  class="nav-link"  (click)="lihatbid('8')">
                              <i class="nav-link-icon pe-7s-angle-right" ></i><span>Asesmen Perawat</span>
                             
                            </a>
                          </li> -->

                  <li class="nav-item">
                    <a class="nav-link" (click)="lihatbid('4')">
                      <i class="nav-link-icon pe-7s-angle-right"></i
                      ><span>Asesmen Kebidanan</span>
                    </a>
                  </li>

                  <!-- <li class="nav-item" >
                            <a  class="nav-link"  >
                              <i class="nav-link-icon pe-7s-angle-right" ></i><span>Asuhan Kebidanan</span>
                              
                            </a>
                          </li> -->

                  <li class="nav-item">
                    <a class="nav-link" (click)="lihatbid('5')">
                      <i class="nav-link-icon pe-7s-angle-right"></i
                      ><span>Partograf</span>
                    </a>
                  </li>

                  <li class="nav-item">
                    <a class="nav-link" (click)="lihatbid('6')">
                      <i class="nav-link-icon pe-7s-angle-right"></i
                      ><span>Persetujuan Tindakan</span>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" (click)="lihatbid('1')">
                      <i class="nav-link-icon pe-7s-angle-right"></i
                      ><span>Laporan Pemeriksaan Kehamilan</span>
                    </a>
                  </li>
                  <li class="nav-item" (click)="lihatbid('2')">
                    <a class="nav-link">
                      <i class="nav-link-icon pe-7s-angle-right"></i
                      ><span>Catatan Imunisasi</span>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" (click)="lihatbid('3')">
                      <i class="nav-link-icon pe-7s-angle-right"></i
                      ><span>Buku Konstrasepsi</span>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </ng-template>
        </li>

        <li ngbNavItem>
          <a ngbNavLink
            ><button
              class="mb-2 mr-2 btn-pill btn btn-dashed btn-outline-primary"
            >
              Form
            </button></a
          >

          <ng-template ngbNavContent>
            <div
              class="app-inner-layout__wrapper"
              [ngClass]="{ 'open-mobile-menu': toggleMobileSidebar }"
            >
              <div class="app-inner-layout__content card">
                <div class="app-inner-layout__top-pane pe-2">
                  <div class="pane-left">
                    <div class="mobile-app-menu-btn">
                      <button
                        type="button"
                        class="hamburger hamburger--elastic"
                        [ngClass]="{ 'is-active': toggleMobileSidebar }"
                        (click)="toggleMobileSidebar = !toggleMobileSidebar"
                      >
                        <span class="hamburger-box">
                          <span class="hamburger-inner"></span>
                        </span>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="bg-white">
                  <iframe
                    *ngIf="monitoringshowsakit"
                    width="100%"
                    height="1000"
                    [src]="monitoringurlsakit"
                  ></iframe>
                </div>
              </div>

              <div class="app-inner-layout__sidebar card">
                <ul class="nav flex-column">
                  <li class="nav-item-header nav-item">Surat</li>
                  <li class="nav-item">
                    <a class="nav-link" (click)="ksakit()">
                      <i class="nav-link-icon pe-7s-angle-right"></i
                      ><span>Surat Ijin Sakit</span>
                    </a>
                  </li>

                  <li class="nav-item">
                    <a class="nav-link" (click)="ksehat()">
                      <i class="nav-link-icon pe-7s-angle-right"></i
                      ><span>Surat Keterangan Dokter</span>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </ng-template>
        </li>

        <!-- <li ngbNavItem >
                      <a ngbNavLink  class="mb-2 me-2 btn btn-secondary" style="background-color: #16aaff;" (click)="lihatemr()">Kumpulan Form EMR
                
                      
                      </a>
                      <ng-template ngbNavContent>
            
                        <iframe *ngIf="monitoringurlemrshow" width="100%" height="1000" [src]="monitoringurlemr"></iframe>


            
                        </ng-template>
            
                        </li> -->
      </ul>
      <div [ngbNavOutlet]="nav1"></div>
    </div>
  </div>

  <ng-template #content7 let-c="close" let-d="dismiss">
    <div class="modal-header">
      <h6 class="modal-title"></h6>
      <button
        type="button"
        class="btn-close"
        aria-label="Close"
        (click)="d('Cross click')"
      ></button>
    </div>
    <div class="modal-body">
      <div *ngIf="modalsubjek">
        <div
          class="vertical-without-time vertical-timeline vertical-timeline--animate vertical-timeline--one-column"
        >
          <div
            class="vertical-timeline-item vertical-timeline-element"
            *ngFor="let x of tsubjkerw"
          >
            <div>
              <span class="vertical-timeline-element-icon bounce-in"
                ><i class="badge badge-dot badge-dot-xl bg-success"> </i
              ></span>
              <div class="vertical-timeline-element-content bounce-in">
                <h4 class="timeline-title">
                  {{ x.tgl
                  }}<i
                    style="font-size: 20px"
                    (click)="copysubjek(x.subjek)"
                    class="font-icon-wrapper pe-7s-copy-file"
                  >
                  </i>
                </h4>

                <p>{{ x.subjek }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="modalpf">
        <div
          class="vertical-without-time vertical-timeline vertical-timeline--animate vertical-timeline--one-column"
        >
          <div
            class="vertical-timeline-item vertical-timeline-element"
            *ngFor="let x of tsubjkerw"
          >
            <div>
              <span class="vertical-timeline-element-icon bounce-in"
                ><i class="badge badge-dot badge-dot-xl bg-success"> </i
              ></span>
              <div class="vertical-timeline-element-content bounce-in">
                <h4 class="timeline-title">
                  {{ x.tgl }}
                  <i
                    style="font-size: 20px"
                    (click)="copypf(x.pf)"
                    class="font-icon-wrapper pe-7s-copy-file"
                  >
                  </i>
                </h4>
                <p>{{ x.pf }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="modalplan">
        <div
          class="vertical-without-time vertical-timeline vertical-timeline--animate vertical-timeline--one-column"
        >
          <div
            class="vertical-timeline-item vertical-timeline-element"
            *ngFor="let x of tsubjkerw"
          >
            <div>
              <span class="vertical-timeline-element-icon bounce-in"
                ><i class="badge badge-dot badge-dot-xl bg-success"> </i
              ></span>
              <div class="vertical-timeline-element-content bounce-in">
                <h4 class="timeline-title">
                  {{ x.tgl }}
                  <i
                    style="font-size: 20px"
                    (click)="copyplan(x.planing)"
                    class="font-icon-wrapper pe-7s-copy-file"
                  >
                  </i>
                </h4>
                <p>{{ x.planing }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="modaldiag">
        <div
          class="vertical-without-time vertical-timeline vertical-timeline--animate vertical-timeline--one-column"
        >
          <div
            class="vertical-timeline-item vertical-timeline-element"
            *ngFor="let x of tdiagnosa"
          >
            <div>
              <span class="vertical-timeline-element-icon bounce-in"
                ><i class="badge badge-dot badge-dot-xl bg-success"> </i
              ></span>
              <div class="vertical-timeline-element-content bounce-in">
                <h4 class="timeline-title">
                  {{ x.tgl }}
                  <i
                    style="font-size: 20px"
                    (click)="copydiag(x.notrans)"
                    class="font-icon-wrapper pe-7s-copy-file"
                  >
                  </i>
                </h4>
                <p *ngFor="let y of x.resp">
                  {{ y.kddiagnosa }} | {{ y.diagnosa }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="modaltindak">
        <div
          class="vertical-without-time vertical-timeline vertical-timeline--animate vertical-timeline--one-column"
        >
          <div
            class="vertical-timeline-item vertical-timeline-element"
            *ngFor="let x of tdiagnosa"
          >
            <div>
              <span class="vertical-timeline-element-icon bounce-in"
                ><i class="badge badge-dot badge-dot-xl bg-success"> </i
              ></span>
              <div class="vertical-timeline-element-content bounce-in">
                <h4 class="timeline-title">
                  {{ x.tgl
                  }}<i
                    style="font-size: 20px"
                    (click)="copytindak(x.notrans)"
                    class="font-icon-wrapper pe-7s-copy-file"
                  >
                  </i>
                </h4>
                <p *ngFor="let y of x.resp">
                  {{ y.kddiagnosa }} | {{ y.diagnosa }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="modalterapi">
        <div
          class="vertical-without-time vertical-timeline vertical-timeline--animate vertical-timeline--one-column"
        >
          <div
            class="vertical-timeline-item vertical-timeline-element"
            *ngFor="let x of tterapi"
          >
            <div>
              <span class="vertical-timeline-element-icon bounce-in"
                ><i class="badge badge-dot badge-dot-xl bg-success"> </i
              ></span>
              <div class="vertical-timeline-element-content bounce-in">
                <h4 class="timeline-title">
                  {{ x.tglpriksa
                  }}<i
                    style="font-size: 20px"
                    (click)="copyterapi(x.notransaksi, x.tglpriksa)"
                    class="font-icon-wrapper pe-7s-copy-file"
                  >
                  </i>
                </h4>
                <p *ngFor="let y of x.detail">
                  {{ y.nama }} | {{ y.aturan }} | {{ y.qty }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer"></div>
  </ng-template>

  <div class="card-body">
    <ng-template #content6 let-c="close" let-d="dismiss">
      <div class="modal-header">
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>
      <div class="modal-body">
        <div class="table-responsive">
          <div class="row">
            <div class="col-md-6">
              <p-tree
                class="w-full md:w-20rem"
                [value]="files1"
                [filter]="true"
                selectionMode="single"
                [(selection)]="selectedFile"
                (onNodeSelect)="nodeSelect($event)"
                (onNodeUnselect)="nodeUnselect($event)"
              ></p-tree>
            </div>
            <div class="col-md-6">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th scope="col">Instruksi</th>
                    <th scope="col">Harga</th>

                    <th scope="col">Hapus</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let x of tlistlab">
                    <td style="font-size: 11px; color: black; width: 500px">
                      {{ x.nama }}
                    </td>
                    <td style="font-size: 11px; color: black">
                      {{ x.harga | currency : "IDR" }}
                    </td>

                    <td>
                      <button
                        class="mb-2 me-2 btn-icon btn-icon-only btn-shadow btn-dashed btn btn-outline-danger"
                        (click)="
                          hapustarif(
                            x.kdpruduk,
                            x.kdpoli,
                            x.notransaksi,
                            x.nomor,
                            x.kdcppt,
                            x.nama,
                            x.nofaktur
                          )
                        "
                      >
                        <i
                          style="font-size: 15px"
                          class="pe-7s-trash btn-icon-wrapper"
                        >
                        </i>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>

              <div
                class="card-shadow-info border mb-3 card card-body border-info"
              >
                <h6 class="card-title">KLINIS</h6>
                <textarea
                  name="text"
                  [(ngModel)]="keteranganakhir"
                  class="form-control"
                ></textarea>
                <h6 class="card-title">TGL PEMERIKSAAN</h6>
                <input
                  style="
                    border-radius: 5px;
                    border: solid 1px #ccc;
                    width: 11.5em;
                    height: 33px;
                  "
                  [(ngModel)]="myDatelab"
                  type="date"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="verifikasi()">
          SIMPAN
        </button>
      </div>
    </ng-template>

    <ng-template #content2 let-c="close" let-d="dismiss">
      <div class="modal-header">
        <!-- <div class="input-group">
        <div class="input-group-text" >
          <div class="">
            
            <fa-icon [icon]="faSearch" ></fa-icon>
          </div>
        </div>
        <input placeholder="Search..."  (keyup)="caritarifrad($event)" type="text" class="form-control">
      </div> -->

        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>
      <div class="modal-body">
        <div class="table-responsive">
          <div class="row">
            <div class="col-md-6">
              <p-tree
                class="w-full md:w-20rem"
                [value]="files2"
                [filter]="true"
                selectionMode="single"
                [(selection)]="selectedFile1"
                (onNodeSelect)="nodeSelectx($event)"
              ></p-tree>
            </div>
            <div class="col-md-6">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th scope="col">Instruksi</th>
                    <th scope="col">Harga</th>

                    <th scope="col">Act</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let x of tlistrad">
                    <td style="font-size: 11px; color: black; width: 500px">
                      {{ x.nama }}
                    </td>
                    <td style="font-size: 11px; color: black">
                      {{ x.harga | currency : "IDR" }}
                    </td>

                    <td>
                      <!-- <div class="badge bg-pill bg-danger" 
                   (click)="hapustarifrad(x.kdpruduk,x.kdpoli,x.notransaksi,x.nomor,x.kdcppt,x.nama)"
                   >X</div> -->
                      <button
                        class="mb-2 me-2 btn-icon btn-icon-only btn-shadow btn-dashed btn btn-outline-danger"
                        (click)="
                          hapustarifrad(
                            x.kdpruduk,
                            x.kdpoli,
                            x.notransaksi,
                            x.nomor,
                            x.kdcppt,
                            x.nama
                          )
                        "
                      >
                        <i
                          style="font-size: 15px"
                          class="pe-7s-trash btn-icon-wrapper"
                        >
                        </i>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>

              <div
                class="card-shadow-info border mb-3 card card-body border-info"
              >
                <h6 class="card-title">KLINIS</h6>
                <textarea
                  name="text"
                  [(ngModel)]="keteranganakhirrad"
                  class="form-control"
                ></textarea>

                <h6 class="card-title">TGL PEMERIKSAAN</h6>
                <input
                  style="
                    border-radius: 5px;
                    border: solid 1px #ccc;
                    width: 11.5em;
                    height: 33px;
                  "
                  [(ngModel)]="myDatelab"
                  type="date"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="verifikasirad()">
          SIMPAN
        </button>
      </div>
    </ng-template>

    <ng-template #content5 let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">Permintaan Obat</h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>
      <div class="modal-body">
        <ul ngbNav #nav2="ngbNav" class="nav-tabs">
          <li ngbNavItem>
            <a ngbNavLink (click)="kliknonr()"><span>Non Racik</span></a>
            <ng-template ngbNavContent>
              <div class="input-group">
                <div class="input-group-text">
                  <div class="">
                    <fa-icon [icon]="faSearch"></fa-icon>
                  </div>
                </div>
                <input
                  placeholder="Cari Tamplate..."
                  type="text"
                  [(ngModel)]="caritam"
                  class="form-control"
                  (keyup)="caritamplate($event)"
                />
              </div>

              <div
                class="table-responsive"
                style="font-size: 12px"
                *ngIf="showtamplate"
              >
                <table
                  class="align-middle mb-0 table table-borderless table-striped table-hover"
                >
                  <thead>
                    <tr style="border-bottom: 1px solid black">
                      <th>OBAT</th>
                      <th class="text-center">ATURAN PAKAI</th>
                      <th class="text-center">QTY</th>

                      <th class="text-center">KETERANGAN</th>
                      <th class="text-center">ACT</th>
                    </tr>
                  </thead>

                  <tbody *ngFor="let x of ttamplate">
                    <tr>
                      <td style="font-size: 12px; color: black">
                        <b style="font-size: 12px"
                          >{{ x.nama }} | {{ x.status }}</b
                        >
                      </td>
                      <td style="font-size: 12px; color: black"></td>
                      <td style="font-size: 12px; color: black"></td>
                      <td style="font-size: 12px; color: black"></td>
                      <td class="text-center">
                        <div
                          class="badge bg-pill bg-warning"
                          (click)="
                            pilihobattam(x.kdtamplated, x.nama, x.status)
                          "
                        >
                          P
                        </div>
                      </td>
                    </tr>

                    <tr *ngFor="let y of x.detail">
                      <td>
                        <div
                          *ngIf="y.kdobat == ''"
                          class="mb-2 me-2 badge badge-dot bg-danger"
                        >
                          Primary
                        </div>
                        <div
                          *ngIf="!y.kdobat == ''"
                          class="mb-2 me-2 badge badge-dot bg-primary"
                        >
                          Primary
                        </div>

                        <b style="color: black" *ngIf="y.kdobat == ''">{{
                          y.obat
                        }}</b>
                        <span *ngIf="!y.kdobat == ''">{{ y.obat }}</span>
                      </td>

                      <td class="text-center">
                        {{ y.aturan }}
                      </td>
                      <td class="text-center">
                        {{ y.qty }}

                        <span *ngIf="y.kdobat == ''">{{ y.satuan }}</span>
                        <span *ngIf="!y.kdobat == ''">{{ y.standart }}</span>
                      </td>
                      <td class="text-center">
                        {{ y.keterangan }}
                      </td>
                      <td class="text-center">
                        {{ y.status }}
                      </td>
                      <!-- <td style="border: 1px solid black;">
                      <div class="badge bg-pill bg-danger"  (click)="pilihgol()"  >Hapus</div>             
                    </td> -->
                    </tr>
                  </tbody>
                </table>
              </div>

              <div class="table" style="font-size: 12px">
                <table
                  class="align-middle mb-0 table table-borderless table-striped table-hover"
                >
                  <thead>
                    <tr style="border-bottom: 1px solid black">
                      <th>Obat</th>

                      <th class="text-center">Aturan Pakai</th>
                      <th class="text-center">Qty</th>

                      <th class="text-center">Keterangan</th>
                      <th class="text-center">Hapus</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let x of tlistobatn">
                      <td width="40%">
                        {{ x.nama }}
                      </td>

                      <td
                        class="text-center"
                        width="20%"
                        (click)="
                          aturannonracik(
                            x.aturan,
                            x.norm,
                            x.kdpoli,
                            x.kddokter,
                            x.notransaksi,
                            x.kdpruduk,
                            x.no
                          )
                        "
                      >
                        {{ x.aturan }}
                      </td>
                      <td
                        class="text-center"
                        width="20%"
                        (click)="
                          qtynonracik(
                            x.aturan,
                            x.norm,
                            x.kdpoli,
                            x.kddokter,
                            x.notransaksi,
                            x.kdpruduk,
                            x.qty,
                            x.harga,
                            x.no
                          )
                        "
                      >
                        {{ x.qty }}
                      </td>

                      <td
                        class="text-center"
                        (click)="
                          ketnonracik(
                            x.keterangan,
                            x.norm,
                            x.kdpoli,
                            x.kddokter,
                            x.notransaksi,
                            x.kdpruduk,
                            x.no
                          )
                        "
                      >
                        {{ x.keterangan }}
                      </td>
                      <td>
                        <div
                          class="badge bg-pill bg-danger"
                          (click)="
                            hapusobat(
                              x.notransaksi,
                              x.kdpoli,
                              x.kdpruduk,
                              x.statuso,
                              x.dari,
                              x.kunci,
                              x.no,
                              x.kdcppt,
                              x.nama
                            )
                          "
                        >
                          X
                        </div>
                      </td>
                    </tr>

                    <tr>
                      <td width="40%">
                        <!-- #selectxx  -->
                        <ng-select
                          [items]="tobat"
                          bindLabel="obat"
                          bindValue="kdobat"
                          placeholder="Obat"
                          [(ngModel)]="nmobat"
                          (keyup)="cariobat($event)"
                        >
                        </ng-select>

                        <!-- (click)="selectxx.handleClearClick()" -->
                        <!-- <input type="button"  (click)="NgSelectComponent.handleClearClick()"> -->
                        <!-- <button (click)="tessx()">ffxxx</button> -->
                        <!-- <button #myButton>ffxxx</button> -->
                      </td>

                      <td class="text-center" width="20%">
                        <input
                          [(ngModel)]="aturan"
                          placeholder="Aturan"
                          type="text"
                          class="form-control"
                        />
                      </td>
                      <td class="text-center" width="20%">
                        <form [formGroup]="profileForm">
                          <input
                            formControlName="qtyk"
                            [(ngModel)]="qtyk"
                            placeholder="Qty"
                            type="number"
                            class="form-control"
                          />
                        </form>
                      </td>

                      <td class="text-center">
                        <textarea
                          [(ngModel)]="keterangan"
                          placeholder="Keterangan"
                          class="form-control"
                          autosize
                        ></textarea>
                      </td>
                    </tr>

                    <tr>
                      <td width="40%"></td>

                      <td class="text-center" width="20%"></td>
                      <td class="text-center" width="20%"></td>

                      <td class="text-center"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </ng-template>
          </li>

          <li ngbNavItem>
            <a ngbNavLink (click)="klikr()"><span>Racik</span></a>
            <ng-template ngbNavContent>
              <div class="table" style="font-size: 12px">
                <table
                  class="align-middle mb-0 table table-borderless table-striped table-hover"
                >
                  <thead>
                    <tr style="border-bottom: 1px solid black">
                      <th>Nama Racik</th>
                      <th>Metode Racik</th>
                      <th class="text-center">Aturan Pakai</th>
                      <th class="text-center">Qty</th>

                      <th class="text-center">Keterangan</th>
                      <th class="text-center">Hapus</th>
                    </tr>
                  </thead>

                  <tbody *ngFor="let x of tlistobatr">
                    <tr>
                      <td>
                        {{ x.namaracik }}
                      </td>
                      <td
                        (click)="
                          metoderacik(
                            x.kdtamplated,
                            x.namaracik,
                            x.metode,
                            x.aturan,
                            x.qty,
                            x.keterangan,
                            x.notransaksi,
                            x.kdpoli
                          )
                        "
                      >
                        {{ x.metode }}
                      </td>

                      <td
                        class="text-center"
                        (click)="
                          aturanracikm(
                            x.kdtamplated,
                            x.namaracik,
                            x.metode,
                            x.aturan,
                            x.qty,
                            x.keterangan,
                            x.notransaksi,
                            x.kdpoli
                          )
                        "
                      >
                        {{ x.aturan }}
                      </td>

                      <td
                        class="text-center"
                        (click)="
                          qtyracikm(
                            x.kdtamplated,
                            x.namaracik,
                            x.metode,
                            x.aturan,
                            x.qty,
                            x.keterangan,
                            x.notransaksi,
                            x.kdpoli
                          )
                        "
                      >
                        {{ x.qty }}
                      </td>
                      <td
                        class="text-center"
                        (click)="
                          keteranganracikm(
                            x.kdtamplated,
                            x.namaracik,
                            x.metode,
                            x.aturan,
                            x.qty,
                            x.keterangan,
                            x.notransaksi,
                            x.kdpoli
                          )
                        "
                      >
                        {{ x.keterangan }}
                      </td>
                      <td class="text-center">
                        <div
                          class="badge bg-pill bg-info"
                          (click)="hapusobatt(x.kdtamplated)"
                        >
                          X
                        </div>
                      </td>
                    </tr>

                    <tr *ngFor="let y of x.detail">
                      <td colspan="3">
                        <div class="mb-2 me-2 badge badge-dot bg-primary">
                          Primary
                        </div>
                        {{ y.nama }}
                      </td>
                      <td
                        class="text-center"
                        (click)="
                          qtyracik(
                            y.aturan,
                            y.norm,
                            y.kdpoli,
                            y.kddokter,
                            y.notransaksi,
                            y.kdpruduk,
                            y.qty,
                            y.harga,
                            y.no
                          )
                        "
                      >
                        {{ y.qty }}
                      </td>
                      <td
                        class="text-center"
                        (click)="
                          keteranganracik(
                            y.keterangan,
                            y.norm,
                            y.kdpoli,
                            y.kddokter,
                            y.notransaksi,
                            y.kdpruduk,
                            y.qty,
                            y.harga,
                            y.no
                          )
                        "
                      >
                        {{ y.keterangan }}
                      </td>
                      <td class="text-center">
                        <div
                          class="badge bg-pill bg-danger"
                          (click)="
                            hapusobat(
                              y.notransaksi,
                              y.kdpoli,
                              y.kdpruduk,
                              y.statuso,
                              y.dari,
                              y.kunci,
                              y.no,
                              y.kdcppt,
                              y.nama
                            )
                          "
                        >
                          X
                        </div>
                      </td>
                    </tr>
                  </tbody>

                  <tbody>
                    <tr>
                      <td>
                        <input
                          [(ngModel)]="namaracikm"
                          placeholder="Nama Racik"
                          type="text"
                          class="form-control"
                        />
                      </td>
                      <td>
                        <select
                          [(ngModel)]="metode"
                          id="exampleSelect"
                          class="form-select"
                        >
                          <option value="Kapsul">Kapsul</option>
                          <option value="Puyer">Puyer</option>
                          <option value="Salep">Salep</option>
                          <option value="Sirup">Sirup</option>
                        </select>
                      </td>

                      <td class="text-center">
                        <input
                          [(ngModel)]="aturanm"
                          placeholder="Aturan"
                          type="text"
                          class="form-control"
                        />
                      </td>
                      <td class="text-center">
                        <input
                          [(ngModel)]="qtykm"
                          placeholder="Qty"
                          type="number"
                          class="form-control"
                        />
                      </td>

                      <td class="text-center">
                        <textarea
                          [(ngModel)]="keteranganm"
                          placeholder="Keterangan"
                          class="form-control"
                          autosize
                        ></textarea>
                      </td>
                    </tr>

                    <tr>
                      <td colspan="2">
                        <span>Obat</span>
                        <ng-select
                          [items]="tobatx"
                          bindLabel="obat"
                          bindValue="kdobat"
                          placeholder="Obat"
                          [(ngModel)]="nmobatx"
                          (keyup)="cariobatx($event)"
                        >
                        </ng-select>
                      </td>

                      <td class="text-center">
                        <span>Qty</span>
                        <input
                          [(ngModel)]="qtykx"
                          placeholder="Qty"
                          type="number"
                          class="form-control"
                        />
                      </td>

                      <td class="text-center">
                        <span>Keterangan</span>
                        <input
                          [(ngModel)]="keteranganx"
                          placeholder="keterangan"
                          type="text"
                          class="form-control"
                        />
                      </td>
                      <td class="text-center">
                        <span>Tambah</span><br />
                        <i
                          style="
                            font-size: 20px;
                            color: black;
                            font-weight: bold;
                          "
                          class="font-icon-wrapper pe-7s-diskette"
                          (click)="tambahobatr()"
                        >
                        </i>
                      </td>
                    </tr>

                    <tr>
                      <td colspan="2"></td>

                      <td class="text-center"></td>
                      <td class="text-center"></td>

                      <td class="text-center"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </ng-template>
          </li>
        </ul>

        <div [ngbNavOutlet]="nav2"></div>
      </div>
      <div class="modal-footer">
        <button
          *ngIf="simno"
          [disabled]="!profileForm.valid"
          class="mb-2 me-2 btn-pill btn btn-info"
          (click)="tambahobat()"
        >
          Simpan
        </button>

        <!-- <button [disabled]="!profileForm.valid">sdds</button> -->

        <div
          *ngIf="simnor"
          class="badge bg-pill bg-warning"
          (click)="verifracik()"
        >
          Simpan Racik
        </div>
      </div>
    </ng-template>

    <ng-template #contentrj let-c="close" let-d="dismiss">
      <div class="modal-header">
        <b>Rujukan Keluar</b>

        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>

      <div class="modal-body">
        <div class="table-responsive">
          <div class="position-relative mb-3">
            <label for="exampleSelect" class="form-label" style="color: black"
              >Rujukan Untuk</label
            >
            <select
              [(ngModel)]="rujukanuntuk"
              id="exampleSelect"
              class="form-select"
            >
              <option value="">-PILIH-</option>
              <option value="Laboratorium">Laboratorium</option>
              <option value="Radiologi">Radiologi</option>
              <option value="Penunjang Lain">Penunjang Lain</option>
              <option value="Rawat Jalan">Rawat Jalan</option>
            </select>
          </div>
          <div class="position-relative mb-3">
            <label for="exampleSelect" class="form-label" style="color: black"
              >Keterangan Rujuk</label
            >
            <input
              [(ngModel)]="keteranganrujuk"
              id="exampleCity"
              type="text"
              class="form-control"
            />
          </div>

          <div class="position-relative mb-3">
            <label for="exampleSelect" class="form-label" style="color: black"
              >Instansi</label
            >
            <input
              [(ngModel)]="instansi"
              id="exampleCity"
              type="text"
              class="form-control"
            />
          </div>

          <div class="position-relative mb-3">
            <label for="exampleSelect" class="form-label" style="color: black"
              >Catatan Pasien</label
            >
            <textarea
              rows="20"
              [(ngModel)]="catatan"
              id="exampleText"
              class="form-control"
            ></textarea>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <!-- <button type="button" class="btn btn-grey"  >CETAK</button> -->
        <button type="button" class="btn btn-primary" (click)="simpanrujuk()">
          SIMPAN
        </button>
      </div>
    </ng-template>

    <ng-template #contentdokter let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">Jasa Dokter</h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>

      <div class="modal-body">
        <div class="table-responsive">
          <table
            class="align-middle mb-0 table table-borderless table-striped table-hover"
          >
            <thead>
              <tr>
                <th>Dokter</th>

                <th class="text-center">Actions</th>
              </tr>
            </thead>

            <tbody>
              <tr *ngFor="let a of tdokter">
                <td style="font-size: 12px; color: black">
                  {{ a.namdokter }}
                </td>

                <td class="text-center">
                  <div
                    class="badge bg-pill bg-danger"
                    (click)="pilihdokter(a.kddokter, a.namdokter)"
                  >
                    P
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="klihats()">SIMPAN</button>
    </div> -->
    </ng-template>

    <ng-template #contentperawat let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">Jasa Asisten Dokter</h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>

      <div class="modal-body">
        <div class="table-responsive">
          <table
            class="align-middle mb-0 table table-borderless table-striped table-hover"
          >
            <thead>
              <tr>
                <th>Perawat</th>

                <th class="text-center">Actions</th>
              </tr>
            </thead>

            <tbody>
              <tr *ngFor="let a of tperawat">
                <td style="font-size: 12px; color: black">
                  {{ a.namdokter }}
                </td>

                <td class="text-center">
                  <div
                    class="badge bg-pill bg-danger"
                    (click)="pilihperawat(a.kddokter, a.namdokter)"
                  >
                    P
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="klihats()">SIMPAN</button>
    </div> -->
    </ng-template>

    <ng-template #contentdiag let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">
          Tambahkan Kode Diagnosa pada <b>{{ diagfree }}</b>
        </h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>

      <div class="modal-body">
        <form [formGroup]="form1">
          <input type="radio" value="Kode" formControlName="gender" /> Kode
          <input type="radio" value="Diagnosa" formControlName="gender" />
          Diagnosa
        </form>

        <input
          placeholder="Input/Enter/Klik"
          (keyup)="caridiagedit($event)"
          type="text"
          class="form-control"
        />

        <div class="table-responsive">
          <table
            class="align-middle mb-0 table table-borderless table-striped table-hover"
          >
            <thead>
              <tr>
                <th scope="col">Kd Diagnosa</th>
                <th scope="col">Diagnosa</th>
                <th scope="col">Pilih</th>
              </tr>
            </thead>
            <tbody>
              <tr
                *ngFor="let x of diagnose"
                style="font-size: 12px; color: black"
              >
                <td>
                  {{ x.kddiagnosa }}
                </td>
                <td>
                  {{ x.diagnosa }}<br />
                  <span
                    style="font-size: 10px; color: black; font-style: italic"
                  >
                    {{ x.freetext }}</span
                  >
                </td>
                <td>
                  <button
                    class="mb-2 me-2 btn-hover-shine btn-pill btn btn-success"
                    (click)="pilihdiagedit(x.kddiagnosa, x.diagnosa)"
                  >
                    +
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </ng-template>

    <ng-template #contentfaskes let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">List Faskes Rujukan</h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>

      <div class="modal-body">
        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col">Kode PPK</th>
              <th scope="col">Nama Faskes</th>
              <th scope="col">Jadwal</th>
              <th scope="col">Kuota</th>

              <th scope="col">Pilih</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let x of tfaskesbpjs">
              <td style="font-size: 11px; color: black">
                <p>{{ x.kdppk }}</p>
              </td>
              <td style="font-size: 11px; color: black">
                <p>{{ x.nmppk }}</p>
              </td>
              <td style="font-size: 11px; color: black">
                <p>{{ x.jadwal }}</p>
              </td>
              <td style="font-size: 11px; color: black">
                <p>{{ x.kapasitas }}</p>
              </td>

              <td style="font-size: 11px; color: black">
                <button
                  class="mb-2 me-2 btn-hover-shine btn-pill btn btn-success"
                  (click)="pilihfaskes(x.kdppk, x.nmppk, x.jadwal)"
                >
                  PILIH
                </button>
              </td>
              <td></td>
            </tr>
          </tbody>
        </table>
      </div>
    </ng-template>

    <ng-template #contentrjtarif let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">Tarif</h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>

      <div class="modal-body">
        <div class="row">
          <div class="col-md-6">
            <p-tree
              [style]="{ 'text-align': 'center', 'font-size': '1em' }"
              [value]="files3"
              [filter]="true"
              selectionMode="single"
              [(selection)]="selectedFile"
              (onNodeSelect)="nodeSelectrj($event)"
            ></p-tree>
          </div>

          <div class="col-md-6">
            <div class="input-group">
              <div class="input-group-text">
                <div class="">
                  <fa-icon [icon]="faSearch"></fa-icon>
                </div>
              </div>
              <input
                placeholder="Cari tarif..."
                type="text"
                class="form-control"
                (keyup)="caritarif($event)"
              />
            </div>

            <table class="table table-striped">
              <thead>
                <tr>
                  <th scope="col">Produk</th>
                  <th scope="col">Harga</th>

                  <th scope="col">Act</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let x of ttarifrj">
                  <td style="font-size: 11px; color: black; width: 500px">
                    {{ x.nama }}
                  </td>
                  <td style="font-size: 11px; color: black">
                    {{ x.harga | currency : "IDR" }}
                  </td>

                  <td>
                    <div
                      class="badge bg-pill bg-danger"
                      (click)="
                        tambahtarif(
                          x.kdtarif,
                          x.nama,
                          x.harga,
                          contentdokter,
                          contentperawat,
                          x.kdTindakan
                        )
                      "
                    >
                      +
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </ng-template>
    <ng-template #content8diskon let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">Tarif {{ produkdise }}</h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>
      <div class="modal-body">
        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col">Komponen</th>
              <th scope="col">Nominal</th>
              <th scope="col">Disc%</th>
              <th scope="col">Hasil</th>

              <th scope="col">Disc%</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let x of tkomp">
              <!-- ;let index = index;trackBy:trackByIndex; -->
              <td style="font-size: 11px; color: black">
                {{ x.tarif }}
              </td>
              <td style="font-size: 11px; color: black">
                {{ x.jasa | currency : "IDR" }}
              </td>
              <td style="font-size: 11px; color: black">
                {{ x.discp }}
              </td>
              <td style="font-size: 11px; color: black">
                {{ x.nominal | currency : "IDR" }}
              </td>
              <td *ngIf="x.kdkomponen === '3'">
                <div
                  class="badge bg-pill bg-info"
                  (click)="
                    discpp(
                      x.nomor,
                      x.kdproduk,
                      x.notrans,
                      x.kdkomponen,
                      x.nofaktur
                    )
                  "
                >
                  Disc
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        Total Disc :
        <span style="color: red">{{ totaldiscnom | currency : "IDR" }}</span>
        Total Nominal :
        <span style="color: red">{{ totaljasakom | currency : "IDR" }}</span>
        <!-- <button type="button" class="btn btn-secondary" (click)="c('Close click')">Close</button> -->
      </div>
    </ng-template>

    <ng-template #contentkonsultasi let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">Konsultasi/Tindakan Masalah Medik Saat Ini</h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>
      <div class="modal-body">
        <div class="position-relative mb-3">
          <label for="exampleSelect" class="form-label">Poliklinik</label>

          <select
            [(ngModel)]="politunjang"
            id="exampleSelect"
            class="form-select"
            (change)="pilihklinik($event.target.value)"
          >
            <option value=""><b>--PILIH--</b></option>

            <option *ngFor="let x of tpolitunjang" value="{{ x.kdpoli }}">
              <b>{{ x.nampoli }}</b>
            </option>
          </select>
        </div>

        <div class="position-relative mb-3">
          <label for="exampleSelect" class="form-label">Dokter </label>

          <select
            [(ngModel)]="doktunjang"
            id="exampleSelect"
            class="form-select"
            (change)="pilihdokterr($event.target.value)"
          >
            <option value="">--Dokter--</option>
            <option *ngFor="let x of tdoktunjang" value="{{ x.kddokter }}">
              <b>{{ x.namdokter }}</b>
            </option>
          </select>
        </div>

        <div class="position-relative mb-3">
          <label for="exampleSelect" class="form-label">Isi Konsultasi </label>
          <textarea
            rows="10"
            [(ngModel)]="catatankon"
            id="exampleText"
            class="form-control"
          ></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button
          (click)="simpankonsul()"
          class="ladda-button mb-2 me-2 btn-pill btn btn-info"
          data-style="zoom-out"
        >
          <span class="ladda-label">Simpan </span>
        </button>
      </div>
    </ng-template>

    <ng-template #contentkunjungan let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">Cek Kunjungan</h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>
      <div class="modal-body">
        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col">Nama</th>
              <th scope="col">No JKN</th>
              <th scope="col">No Rujukan</th>
              <th scope="col">Tgl Kunjungan</th>
              <th scope="col">Tgl Estimasi</th>
              <th scope="col">Tgl Akhir</th>
              <th scope="col">Faskes</th>
              <th scope="col">Poli</th>
              <th scope="col">Diagnosa</th>
              <th scope="col">Cetak</th>
              <th scope="col">Ganti</th>
              <!-- <th scope="col">Hapus</th> -->
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="font-size: 11px; color: black">
                {{ nmPst }}
              </td>
              <td style="font-size: 11px; color: black">
                {{ nokaPst }}
              </td>
              <td style="font-size: 11px; color: black">
                {{ noRujukan }}
              </td>
              <td style="font-size: 11px; color: black">
                {{ tglKunjungan }}
              </td>
              <td style="font-size: 11px; color: black">
                {{ tglEstRujuk }}
              </td>
              <td style="font-size: 11px; color: black">
                {{ tglAkhirRujuk }}
              </td>
              <td style="font-size: 11px; color: black">
                {{ nmPPK }}
              </td>
              <td style="font-size: 11px; color: black">
                {{ nmPoli }}
              </td>
              <td style="font-size: 11px; color: black">
                {{ kdDiag }}| {{ nmDiag }}
              </td>
              <td style="font-size: 11px; color: black">
                <button
                  class="mb-2 me-2 btn-icon btn-icon-only btn-shadow btn-dashed btn btn-outline-primary"
                  (click)="cetaklembarrj()"
                >
                  <i
                    style="font-size: 15px"
                    class="pe-7s-print btn-icon-wrapper"
                  >
                  </i>
                </button>
              </td>
              <td>
                <button
                  class="mb-2 me-2 btn-icon btn-icon-only btn-shadow btn-dashed btn btn-outline-danger"
                  (click)="hapusrujukan()"
                >
                  <i
                    style="font-size: 15px"
                    class="pe-7s-shuffle btn-icon-wrapper"
                  >
                  </i>
                </button>
              </td>
              <td>
                <!-- <button class="mb-2 me-2 btn-icon btn-icon-only btn-shadow btn-dashed btn btn-outline-danger"
            (click)="hapusrujukan1()"><i style="font-size:15px ;" class="pe-7s-trash btn-icon-wrapper">
            </i></button> -->
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer"></div>
    </ng-template>
  </div>
</div>
