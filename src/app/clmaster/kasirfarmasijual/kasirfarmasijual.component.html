<div class="app-inner-layout">
  <div class="card mb-3" style="border: 0.5px solid grey">
    <div class="card-header-tab card-header">
      <div class="card-header-title font-size-lg text-capitalize fw-normal">
        <i class="header-icon lnr-charts icon-gradient bg-happy-green"> </i>
        <b style="font-size: 18px; color: rgb(75, 75, 75)">PELAYANAN RESEP</b>
      </div>
      <div class="btn-actions-pane-right text-capitalize">
        <button
          class="mb-2 me-2 btn-pill btn btn-danger"
          *ngIf="showed"
          (click)="lihated(contented)"
        >
          OBAT ED
        </button>
        <button
          class="btn-wide btn-outline-2x me-md-2 btn btn-outline-focus btn-sm"
          [disabled]="tomboledit"
          (click)="tambahmodal(content8)"
        >
          Tambah
        </button>
        <button
          class="btn-wide btn-outline-2x me-md-2 btn btn-outline-focus btn-sm"
          [disabled]="!profileFormfar.valid"
          (click)="simpanbeli(contenttf)"
        >
          Simpan
        </button>

        <button
          class="btn-wide btn-outline-2x me-md-2 btn btn-outline-focus btn-sm"
          [disabled]="tombolhapus"
          (click)="hapusall()"
        >
          Hapus
        </button>
        <button
          class="btn-wide btn-outline-2x me-md-2 btn btn-outline-focus btn-sm"
          (click)="bayarmodal(content13, contenttf)"
        >
          Bayar
        </button>
        <button
          class="btn-wide btn-outline-2x me-md-2 btn btn-outline-focus btn-sm"
          *ngIf="akses === 'Kasir' || akses === 'Manajemen'"
          (click)="batalbayar()"
        >
          Batal Bayar
        </button>

        <button
          class="btn-wide btn-outline-2x me-md-2 btn btn-outline-focus btn-sm"
          (click)="goToLink()"
        >
          M.Obat
        </button>

        <div class="d-inline-block" ngbDropdown>
          <button
            class="btn-wide btn-outline-2x me-md-2 btn btn-outline-focus btn-sm"
            type="button"
            ngbDropdownToggle
          >
            Cetak
          </button>
          <div ngbDropdownMenu class="dropdown-menu-rounded">
            <h6 class="dropdown-header">Cetak Faktur Retur</h6>
            <button class="dropdown-item" (click)="muncultiket()">
              Etiket
            </button>
            <button
              class="dropdown-item"
              [disabled]="tombolcetak"
              (click)="cetakfaktur()"
            >
              Cetak Faktur Pelayanan
            </button>
            <button class="dropdown-item" (click)="openlaporan(content7, '1')">
              Cetak Pelayanan Priodik
            </button>
            <button class="dropdown-item" (click)="openlaporan(content7, '2')">
              Rekap Pelayanan Kasir
            </button>
            <button class="dropdown-item" (click)="openlaporan(content7, '3')">
              Rekap Belum Bayar
            </button>
          </div>
        </div>
        <button
          class="btn-wide btn-outline-2x me-md-2 btn btn-outline-focus btn-sm"
          (click)="openLargemap(content6)"
        >
          Cari Pasien
        </button>
      </div>
    </div>
    <div class="g-0 row">
      <div class="col-md-12 col-lg-4">
        <ul class="list-group list-group-flush">
          <li class="bg-transparent list-group-item">
            <div class="widget-content p-0">
              <div class="widget-content-outer">
                <div class="widget-content-wrapper">
                  <div class="widget-content-left">
                    <div
                      class="widget-heading"
                      style="font-size: 10px; color: #01244a"
                    >
                      NO TRANSAKSI :
                    </div>

                    <div class="widget-subheading">
                      <!-- (keyup.enter)="onKeyUp($event)" -->
                      <input
                        disabled
                        [(ngModel)]="notransaksi"
                        style="border-radius: 5px; border: solid 1px #ccc"
                        placeholder="Hasil..."
                        type="text"
                      />
                    </div>
                  </div>
                  <div class="widget-content-right">
                    <div
                      class="widget-heading"
                      style="font-size: 10px; color: #01244a"
                    >
                      NO RM :
                    </div>
                    <input
                      disabled
                      [(ngModel)]="norm"
                      style="border-radius: 5px; border: solid 1px #ccc"
                      placeholder="Hasil..."
                      type="text"
                    />
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li class="bg-transparent list-group-item">
            <div class="widget-content p-0">
              <div class="widget-content-outer">
                <div class="widget-content-wrapper">
                  <div class="widget-content-left">
                    <div
                      class="widget-heading"
                      style="font-size: 10px; color: #01244a"
                    >
                      PASIEN
                    </div>
                    <form [formGroup]="profileFormfar">
                      <input
                        #fokuspasien
                        formControlName="pasien"
                        [(ngModel)]="pasien"
                        style="
                          border-radius: 5px;
                          border: solid 1px #ccc;
                          width: 15em;
                        "
                        placeholder="Hasil..."
                        type="text"
                        (keyup)="carisup($event)"
                        (keyup.enter)="enterpasien(content8)"
                      />
                    </form>
                  </div>

                  <div class="widget-content-right">
                    <div
                      class="widget-heading"
                      style="font-size: 10px; color: #01244a"
                    >
                      ALAMAT
                    </div>
                    <input
                      [(ngModel)]="alamat"
                      style="
                        border-radius: 5px;
                        border: solid 1px #ccc;
                        width: 15em;
                      "
                      placeholder="Alamat..."
                      type="text"
                    />
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li class="bg-transparent list-group-item">
            <div class="widget-content p-0">
              <div class="widget-content-outer">
                <div class="widget-content-wrapper">
                  <div class="widget-content-left">
                    <div
                      class="widget-heading"
                      style="font-size: 10px; color: #01244a"
                    >
                      GUDANG
                    </div>

                    <form [formGroup]="profileFormfar">
                      <select
                        formControlName="kdgudang"
                        [(ngModel)]="kdgudang"
                        style="
                          border-radius: 5px;
                          border: solid 1px #ccc;
                          width: 11.5em;
                        "
                      >
                        <option
                          *ngFor="let x of tgudang"
                          value="{{ x.kdgudang }}"
                        >
                          {{ x.gudang }}
                        </option>
                      </select>
                    </form>
                  </div>
                  <div class="widget-content-right">
                    <div
                      class="widget-heading"
                      style="font-size: 10px; color: #01244a"
                    >
                      BB/Kg
                    </div>
                    <input
                      disabled
                      [(ngModel)]="bb"
                      style="
                        border-radius: 5px;
                        border: solid 1px #ccc;
                        width: 80px;
                      "
                      placeholder="Hasil..."
                      type="text"
                    />
                  </div>
                  <div class="widget-content-right">
                    <div
                      class="widget-heading"
                      style="font-size: 10px; color: #01244a"
                    >
                      UMUR
                    </div>
                    <input
                      disabled
                      [(ngModel)]="umur"
                      style="
                        border-radius: 5px;
                        border: solid 1px #ccc;
                        width: 80px;
                      "
                      placeholder="Hasil..."
                      type="text"
                    />
                  </div>
                </div>
              </div>
            </div>
          </li>
        </ul>
      </div>

      <div class="col-md-12 col-lg-4">
        <ul class="list-group list-group-flush">
          <li class="bg-transparent list-group-item">
            <div class="widget-content p-0">
              <div class="widget-content-outer">
                <div class="widget-content-wrapper">
                  <div class="widget-content-left">
                    <div
                      class="widget-heading"
                      style="font-size: 10px; color: #01244a"
                    >
                      DOKTER :
                    </div>
                    <div class="widget-subheading">
                      <form [formGroup]="profileFormfar">
                        <input
                          formControlName="dokter"
                          [(ngModel)]="dokter"
                          style="border-radius: 5px; border: solid 1px #ccc"
                          (keyup.enter)="enterdokter(content9)"
                          placeholder="Hasil..."
                          type="text"
                        />
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li class="bg-transparent list-group-item">
            <div class="widget-content p-0">
              <div class="widget-content-outer">
                <div class="widget-content-wrapper">
                  <div class="widget-content-left">
                    <div
                      class="widget-heading"
                      style="font-size: 10px; color: #01244a"
                    >
                      KOSTUMER
                    </div>
                    <form [formGroup]="profileFormfar">
                      <input
                        formControlName="kostumer"
                        [(ngModel)]="kostumer"
                        style="border-radius: 5px; border: solid 1px #ccc"
                        placeholder="Hasil..."
                        type="text"
                        (keyup.enter)="enterkostumer(content10)"
                      />
                    </form>
                  </div>
                  <!-- <div class="widget-content-right">
                    <div class="widget-numbers text-primary">$12.6k</div>
                  </div> -->
                </div>
              </div>
            </div>
          </li>
          <li class="bg-transparent list-group-item">
            <div class="widget-content p-0">
              <div class="widget-content-outer">
                <div class="widget-content-wrapper">
                  <div class="widget-content-left">
                    <div
                      class="widget-heading"
                      style="font-size: 10px; color: #01244a"
                    >
                      RUANG
                    </div>
                    <form [formGroup]="profileFormfar">
                      <input
                        formControlName="poli"
                        [(ngModel)]="poli"
                        style="border-radius: 5px; border: solid 1px #ccc"
                        placeholder="Hasil..."
                        type="text"
                        (keyup.enter)="enterpoli(content11)"
                      />
                    </form>
                  </div>
                  <!-- <div class="widget-content-right">
                    <div class="widget-numbers text-primary">$12.6k</div>
                  </div> -->
                </div>
              </div>
            </div>
          </li>
        </ul>
      </div>

      <div class="col-md-12 col-lg-4">
        <ul class="list-group list-group-flush">
          <li class="bg-transparent list-group-item">
            <div class="widget-content p-0">
              <div class="widget-content-outer">
                <div class="widget-content-wrapper">
                  <div class="widget-content-left">
                    <div
                      class="widget-heading"
                      style="font-size: 10px; color: #01244a"
                    >
                      TGL.TRANSAKSI :
                    </div>
                    <div class="widget-subheading">
                      <input
                        style="
                          border-radius: 5px;
                          border: solid 1px #ccc;
                          width: 11.5em;
                        "
                        placeholder="Hasil..."
                        type="date"
                        [(ngModel)]="tglpx"
                        value="{{ tglpx }}"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li class="bg-transparent list-group-item">
            <div class="widget-content p-0">
              <div class="widget-content-outer">
                <div class="widget-content-wrapper">
                  <div class="widget-content-left">
                    <div
                      class="widget-heading"
                      style="font-size: 10px; color: #01244a"
                    >
                      NO RESEP
                    </div>
                    <!-- <input [(ngModel)]="keterangan" style="border-radius: 5px;border:solid 1px #ccc" placeholder="Hasil..." type="text"   (keyup.enter)="onKeyUp($event)"> -->
                    <input
                      [(ngModel)]="noresep"
                      style="border-radius: 5px; border: solid 1px #ccc"
                      placeholder="Hasil..."
                      type="text"
                      (keyup.enter)="onKeyUp($event)"
                    />
                  </div>
                  <!-- <div class="widget-content-right">
                    <div class="widget-numbers text-primary">$12.6k</div>
                  </div> -->
                </div>
              </div>
            </div>
          </li>
          <li class="bg-transparent list-group-item">
            <div class="widget-content p-0">
              <div class="widget-content-outer">
                <div class="widget-content-wrapper">
                  <div class="widget-content-left">
                    <div
                      class="widget-heading"
                      style="font-size: 10px; color: #01244a"
                    >
                      KETERANGAN
                    </div>
                    <input
                      [(ngModel)]="keterangan"
                      style="border-radius: 5px; border: solid 1px #ccc"
                      placeholder="Hasil..."
                      type="text"
                      (keyup.enter)="onKeyUp($event)"
                    />
                  </div>
                  <div class="widget-content-right">
                    <!-- <button class="btn-wide btn-outline-2x me-md-2 btn btn-outline-focus btn-sm"  *ngIf="showtransaksi" [disabled]="!profileFormfar.valid"  (click)="tambah()">Create LPB</button> -->
                  </div>
                </div>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- *ngIf="!showtransaksi" -->

  <div *ngIf="showtransaksi" class="g-0 row">
    <div class="col-md-12 col-lg-10">
      <div class="bg-white" style="border: 0.5px solid grey">
        <div class="tableFixHeadL">
          <table class="table">
            <thead>
              <tr>
                <th
                  scope="col"
                  style="color: #01244a; background-color: #cecbcb"
                >
                  Obat
                </th>
                <th
                  scope="col"
                  style="color: #01244a; background-color: #cecbcb"
                >
                  Satuan
                </th>
                <!-- <th scope="col" style="color: #01244a;background-color: #cecbcb;" >H jual</th> -->
                <th
                  scope="col"
                  style="color: #01244a; background-color: #cecbcb"
                >
                  Qty
                </th>
                <!-- <th scope="col" style="color: #01244a;background-color: #cecbcb;" >Bruto</th> -->

                <th
                  scope="col"
                  style="color: #01244a; background-color: #cecbcb"
                  colspan="2"
                >
                  Signa
                </th>
                <th
                  scope="col"
                  style="color: #01244a; background-color: #cecbcb"
                >
                  Waktu
                </th>
                <th
                  scope="col"
                  style="color: #01244a; background-color: #cecbcb"
                >
                  Keterangan
                </th>

                <th
                  scope="col"
                  style="color: #01244a; background-color: #cecbcb"
                >
                  Verif
                </th>
              </tr>
            </thead>

            <tbody style="font-size: 11px; color: black">
              <tr *ngFor="let x of tjual">
                <td
                  style="width: 210px"
                  (click)="
                    hapusobat(x.kdobat, x.notransaksi, x.nomor, x.obat, x.qty)
                  "
                >
                  <p *ngIf="x.status === '1'">{{ x.obat }}</p>
                  <p *ngIf="x.status === '0'" style="color: red">
                    {{ x.obat }}
                  </p>
                </td>
                <td>
                  {{ x.standart }}
                </td>
                <!-- <td>
                  {{x.hargarp }}
                </td> -->
                <td>
                  <input
                    style="
                      border-radius: 5px;
                      border: solid 1px #ccc;
                      width: 7em;
                      color: black;
                      font-weight: bold;
                    "
                    placeholder="Hasil..."
                    type="number"
                    value="{{ x.qty }}"
                    (keyup.enter)="
                      ubahqty(
                        $event,
                        x.kdobat,
                        x.notransaksi,
                        x.nomor,
                        x.qty,
                        x.disc,
                        x.discrp,
                        x.harga
                      )
                    "
                  />
                </td>
                <!-- <td>
                  {{x.brutorp}}
                </td> -->
                <td>
                  <input
                    style="
                      border-radius: 5px;
                      border: solid 1px #ccc;
                      width: 10em;
                      color: black;
                      font-weight: bold;
                    "
                    class="inx"
                    value=" {{ x.frekuensi }}"
                    [(ngModel)]="x.frekuensi"
                    placeholder="frekuensi..."
                    type="text"
                  />
                </td>
                <td>
                  <input
                    style="
                      border-radius: 5px;
                      border: solid 1px #ccc;
                      width: 10em;
                      color: black;
                      font-weight: bold;
                    "
                    class="inx"
                    value=" {{ x.jmlpakai }}"
                    [(ngModel)]="x.jmlpakai"
                    placeholder="jmlpakai..."
                    type="text"
                  />
                </td>
                <td>
                  <select
                    [(ngModel)]="x.signa"
                    id="exampleSelect"
                    class="inx"
                    style="width: 100%"
                  >
                    <option value="Sebelum Makan">Sebelum Makan</option>
                    <option value="Setelah Makan">Setelah Makan</option>
                    <option value="Bersama Makan">Bersama Makan</option>
                  </select>
                </td>

                <td>
                  <input
                    style="
                      border-radius: 5px;
                      border: solid 1px #ccc;
                      width: 20em;
                      color: black;
                      font-weight: bold;
                    "
                    class="inx"
                    placeholder="Keterangan..."
                    type="text"
                    [(ngModel)]="x.keterangan"
                    value=" {{ x.keterangan }}"
                  />
                </td>

                <td>
                  <div
                    *ngIf="x.status === '1'"
                    class="mb-2 me-2 badge badge-dot bg-primary"
                  >
                    Sudah
                  </div>
                  <div
                    *ngIf="x.status === '0'"
                    class="mb-2 me-2 badge badge-dot bg-danger"
                  >
                    belum
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div *ngIf="showobt" style="background-color: #cecbcb">
          <table class="table">
            <tbody style="font-size: 11px; color: black">
              <tr>
                <td colspan="2" style="width: 210px">
                  <ng-select
                    #select
                    style="border-radius: 5px"
                    [items]="tobat"
                    bindLabel="obat"
                    bindValue="kdobat"
                    placeholder="Supplier"
                    [(ngModel)]="nmobat"
                    (keyup)="cariobat($event)"
                    (keyup.enter)="onobat($event)"
                    (click)="onobatx($event)"
                  >
                  </ng-select>
                </td>

                <td>
                  <select [(ngModel)]="ttsatuan" class="inx">
                    <option *ngFor="let x of tsatuan" value="{{ x.standart }}">
                      {{ x.standart }}
                    </option>
                    <!-- <option *ngFor="let x of tsatuan" value="{{x.sedang}}">{{x.sedang}}</option>
                <option *ngFor="let x of tsatuan" value="{{x.kemasan}}">{{x.kemasan}}</option> -->
                  </select>
                </td>
                <!-- <td>
  
              <input disabled [(ngModel)]="hna"  class="inx"   placeholder="Hna..." type="text" >
            </td> -->
                <td>
                  <input
                    [(ngModel)]="qty"
                    #myinput
                    class="inx"
                    placeholder="Qty...."
                    type="number"
                    (keyup.enter)="onqty($event)"
                  />
                </td>
                <td>
                  <input
                    #myinputqty
                    style="
                      border-radius: 5px;
                      border: solid 1px #ccc;
                      width: 10em;
                      color: black;
                      font-weight: bold;
                    "
                    [(ngModel)]="frekuensi"
                    class="inx"
                    placeholder="frekuensi..."
                    type="text"
                    (keyup.enter)="ondisc($event)"
                  />
                </td>

                <td>
                  <input
                    #myinputdisc
                    style="
                      border-radius: 5px;
                      border: solid 1px #ccc;
                      width: 10em;
                      color: black;
                      font-weight: bold;
                    "
                    class="inx"
                    placeholder="Jmlpakai..."
                    type="text"
                    (keyup.enter)="ontot($event)"
                    [(ngModel)]="jmlpakai"
                  />
                </td>

                <td>
                  <select
                    [(ngModel)]="signa"
                    id="exampleSelect"
                    class="inx"
                    style="width: 100%"
                  >
                    <option value="Sebelum Makan">Sebelum Makan</option>
                    <option value="Setelah Makan">Setelah Makan</option>
                    <option value="Bersama Makan">Bersama Makan</option>
                  </select>

                  <!-- <input
                    [(ngModel)]="discrp"
                    #myinputdisc
                    class="inx"
                    placeholder="Disc Rp..."
                    type="number"
                    (keyup.enter)="ontot($event)"
                  /> -->
                </td>

                <td>
                  <input
                    style="
                      border-radius: 5px;
                      border: solid 1px #ccc;
                      width: 20em;
                      color: black;
                      font-weight: bold;
                    "
                    class="inx"
                    placeholder="Keterangan..."
                    type="text"
                    #myinputtot
                    [(ngModel)]="keterangan"
                    (keyup.enter)="onKeyUpaxx($event)"
                  />
                  <!-- <input
                    [(ngModel)]="total"
                  
                    class="inxtot"
                    placeholder="Total..."
                    type="number"
                    (keyup.enter)="onKeyUpaxx($event)"
                  /> -->
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <hr />

        <div class="g-0 row" style="background-color: #cecbcb">
          <div class="col-md-12 col-lg-6">
            <ul class="list-group list-group-flush">
              <li class="bg-transparent list-group-item">
                <div class="widget-content p-0">
                  <div class="widget-content-outer">
                    <div class="widget-content-wrapper">
                      <div class="widget-content-left">
                        <div
                          class="widget-heading"
                          style="font-size: 10px; color: #01244a"
                        >
                          TTL BRUTO
                        </div>
                      </div>
                      <div class="widget-content-right">
                        <input
                          currencyMask
                          disabled
                          style="
                            border-radius: 5px;
                            border: solid 1px #ccc;
                            width: 11.5em;
                          "
                          placeholder="Hasil..."
                          [(ngModel)]="bruto"
                          [options]="{
                            prefix: ' ',
                            thousands: '.',
                            decimal: ',',
                            precision: 0
                          }"
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </li>
              <li class="bg-transparent list-group-item">
                <div class="widget-content p-0">
                  <div class="widget-content-outer">
                    <div class="widget-content-wrapper">
                      <div class="widget-content-left">
                        <div
                          class="widget-heading"
                          style="font-size: 10px; color: #01244a"
                        >
                          PEMBULATAN
                        </div>
                      </div>
                      <div class="widget-content-right">
                        <input
                          currencyMask
                          disabled
                          [options]="{
                            prefix: ' ',
                            thousands: '.',
                            decimal: ',',
                            precision: 0
                          }"
                          style="
                            border-radius: 5px;
                            border: solid 1px #ccc;
                            width: 11.5em;
                          "
                          placeholder="Hasil..."
                          [(ngModel)]="pembulatan"
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </li>
              <li class="bg-transparent list-group-item">
                <div class="widget-content p-0">
                  <div class="widget-content-outer">
                    <div class="widget-content-wrapper">
                      <div class="widget-content-left">
                        <div
                          class="widget-heading"
                          style="font-size: 10px; color: #01244a"
                        >
                          TOTAL DISC/Rp
                        </div>
                      </div>
                      <div class="widget-content-right">
                        <input
                          currencyMask
                          disabled
                          [options]="{
                            prefix: ' ',
                            thousands: '.',
                            decimal: ','
                          }"
                          style="
                            border-radius: 5px;
                            border: solid 1px #ccc;
                            width: 11.5em;
                          "
                          placeholder="Hasil..."
                          [(ngModel)]="ttldisc"
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </li>
              <!-- <li class="bg-transparent list-group-item">
            <div class="widget-content p-0">
              <div class="widget-content-outer">
                <div class="widget-content-wrapper">
                  <div class="widget-content-left">
                    <div class="widget-heading"  style="font-size:10px;color: #01244a;">ADM RESEP</div>
                   
                  </div>
                  <div class="widget-content-right">
                    <input currencyMask style="border-radius: 5px;border:solid 1px #ccc; width: 11.5em" 
                    [options]="{ prefix: ' ', thousands: '.', decimal: ',' }"
                    placeholder="Hasil..."    [(ngModel)]="admresep"  (keyup)="tambahadm($event)">
                  </div>
                </div>
              </div>
            </div>
          </li> -->

              <li class="bg-transparent list-group-item">
                <div class="widget-content p-0">
                  <div class="widget-content-outer">
                    <div class="widget-content-wrapper">
                      <div class="widget-content-left">
                        <div
                          class="widget-heading"
                          style="font-size: 10px; color: #01244a"
                        >
                          NETTO
                        </div>
                      </div>
                      <div class="widget-content-right">
                        <input
                          disabled
                          currencyMask
                          style="
                            border-radius: 5px;
                            border: solid 1px #ccc;
                            width: 11.5em;
                          "
                          [options]="{
                            prefix: ' ',
                            thousands: '.',
                            decimal: ',',
                            precision: 0
                          }"
                          placeholder="Hasil..."
                          [(ngModel)]="netto"
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </li>
              <!-- -->
              <!-- 
          <li class="bg-transparent list-group-item">
            <div class="widget-content p-0">
              <div class="widget-content-outer">
                <div class="widget-content-wrapper">
                  <div class="widget-content-left">
                    <div class="widget-heading"  style="font-size:10px;color: #01244a;">TUSLAH</div>
                   
                  </div>
                  <div class="widget-content-right">
                    <input currencyMask style="border-radius: 5px;border:solid 1px #ccc; width: 11.5em" placeholder="Hasil..." 
                    [(ngModel)]="tuslahresep"  [options]="{ prefix: ' ', thousands: '.', decimal: ',' }"
                    (keyup)="tambahadmx($event)">
    
    
                  </div>
                </div>
              </div>
            </div>
          </li> -->
            </ul>
          </div>

          <!-- <div class="col-md-12 col-lg-4">
        <ul class="list-group list-group-flush"> -->
          <!-- <li class="bg-transparent list-group-item">
            <div class="widget-content p-0">
              <div class="widget-content-outer">
                <div class="widget-content-wrapper">
                  <div class="widget-content-left">
                    <div class="widget-heading"  style="font-size:10px;color: #01244a;">TOTAL DISC/Rp</div>
                   
                  </div>
                  <div class="widget-content-right">
                    <input currencyMask   [options]="{ prefix: ' ', thousands: '.', decimal: ',' }"
                     style="border-radius: 5px;border:solid 1px #ccc; width: 11.5em"
                      placeholder="Hasil..."   [(ngModel)]="ttldisc"  >
                  </div>
                </div>
              </div>
            </div>
          </li> -->

          <!-- </ul>
    
      </div> -->
          <div class="col-md-12 col-lg-6">
            <ul class="list-group list-group-flush">
              <li class="bg-transparent list-group-item">
                <div class="widget-content p-0">
                  <div class="widget-content-outer">
                    <div class="widget-content-wrapper">
                      <div class="widget-content-left">
                        <div
                          class="widget-heading"
                          style="font-size: 10px; color: #01244a"
                        >
                          TERBAYAR
                        </div>
                      </div>
                      <div class="widget-content-right">
                        <input
                          disabled
                          currencyMask
                          style="
                            border-radius: 5px;
                            border: solid 1px #ccc;
                            width: 11.5em;
                          "
                          placeholder="Hasil..."
                          [(ngModel)]="ttlterbayar"
                          [options]="{
                            prefix: ' ',
                            thousands: '.',
                            decimal: ',',
                            precision: 0
                          }"
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </li>
              <li class="bg-transparent list-group-item">
                <div class="widget-content p-0">
                  <div class="widget-content-outer">
                    <div class="widget-content-wrapper">
                      <div class="widget-content-left">
                        <div
                          class="widget-heading"
                          style="font-size: 10px; color: #fc0707"
                        >
                          TTL HARUS DI BAYAR
                        </div>
                      </div>
                      <div class="widget-content-right">
                        <input
                          disabled
                          currencyMask
                          style="
                            border-radius: 5px;
                            border: solid 1px #ccc;
                            width: 11.5em;
                          "
                          placeholder="Hasil..."
                          [(ngModel)]="ttlsisaterbayar"
                          [options]="{
                            prefix: ' ',
                            thousands: '.',
                            decimal: ',',
                            precision: 0
                          }"
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </li>

              <li class="bg-transparent list-group-item">
                <div class="widget-content p-0">
                  <div class="widget-content-outer">
                    <div class="widget-content-wrapper">
                      <button
                        class="btn-pill btn-shadow btn btn-primary"
                        *ngIf="showlunas"
                      >
                        {{ stsbayar }} LUNAS
                      </button>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-12 col-lg-2">
      <div class="bg-white" style="border: 0.5px solid grey">
        <table class="table">
          <thead>
            <tr>
              <th scope="col" style="color: #01244a; background-color: #cecbcb">
                Resep Dari Dokter
              </th>
            </tr>
          </thead>
          <p></p>
          <tbody style="font-size: 10px; color: black">
            <div class="mb-2 me-2 badge badge-dot bg-primary">Sudah</div>
            <b>Non Racik</b>
            <tr *ngFor="let x of tobatnonracik">
              <td>
                <span
                  >{{ x.nama }} | {{ x.aturan }} | {{ x.qty }} |
                  {{ x.keterangan }}
                </span>
              </td>
            </tr>
          </tbody>

          <div class="mb-2 me-2 badge badge-dot bg-danger">Sudah</div>
          <b style="font-size: 10px; color: black">Racik</b>
          <tbody
            style="font-size: 10px; color: black"
            *ngFor="let x of tobatracik"
          >
            <!-- <div class="mb-2 me-2 badge badge-dot bg-primary">Sudah</div> -->

            <span
              >{{ x.namaracik }} | {{ x.metode }} | {{ x.aturan }} |
              {{ x.qty }} | {{ x.keterangan }}
            </span>
            <tr *ngFor="let y of x.detail">
              <td>
                <span>{{ y.nama }} | {{ y.qty }} | {{ y.keterangan }} </span>
              </td>
            </tr>
          </tbody>

          <i
            style="font-size: 20px"
            class="font-icon-wrapper pe-7s-print"
            (click)="cetakresepdokter()"
          >
          </i>
        </table>
        <b>Alergi :</b>
        <p *ngFor="let x of talergi">{{ x.alergi }} - {{ x.alergiobat }}</p>
      </div>
      <br />
      <button
        class="btn-pill btn-shadow btn btn-primary"
        (click)="kresep(content13x)"
      >
        Kajian Resep
      </button>
    </div>
  </div>

  <div *ngIf="!showtransaksi">
    <div class="card main-card mb-3" *ngIf="showloading">
      <div class="card-body">
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
      </div>
    </div>

    <div class="bg-white" style="border: 0.5px solid grey">
      <div class="tableFixHeadL">
        <table class="table">
          <thead>
            <tr>
              <th scope="col" style="color: #01244a; background-color: #cecbcb">
                Obat
              </th>
              <th scope="col" style="color: #01244a; background-color: #cecbcb">
                Signa
              </th>
              <th scope="col" style="color: #01244a; background-color: #cecbcb">
                Aturan Minum
              </th>
              <th scope="col" style="color: #01244a; background-color: #cecbcb">
                Qty
              </th>

              <th
                scope="col"
                style="
                  color: #01244a;
                  background-color: #cecbcb;
                  text-align: center;
                "
              >
                Keterangan
              </th>
              <th
                scope="col"
                style="
                  color: #01244a;
                  background-color: #cecbcb;
                  text-align: right;
                "
              >
                Edit
              </th>
            </tr>
          </thead>

          <tbody style="font-size: 11px; color: black">
            <tr *ngFor="let x of tetiket">
              <td
                style="width: 210px"
                (click)="
                  hapusobat(x.kdobat, x.notransaksi, x.nomor, x.obat, x.qty)
                "
              >
                {{ x.obat }}
              </td>

              <td>
                {{ x.signa }}
                <!-- <input   style="border-radius: 5px;border:solid 1px #ccc;width:10em;color:black;font-weight: bold;" 
                placeholder="Hasil..."  type="text" value="{{x.signa}}" 
             
                > -->
              </td>
              <td>
                {{ x.aturanminum }}
                <!-- <input disabled  style="border-radius: 5px;border:solid 1px #ccc;width:10em;color:black;font-weight: bold;" 
                placeholder="Hasil..."  type="text" value="{{x.aturanminum}}"> -->
              </td>
              <td>
                {{ x.qty }}
                <!-- <input   style="border-radius: 5px;border:solid 1px #ccc;width:10em;color:black;font-weight: bold;" 
                placeholder="Hasil..."  type="text" value="{{x.qty}}" 
             
                > -->
              </td>

              <td style="text-align: center">
                {{ x.keterangan }}
                <!-- <input   style="border-radius: 5px;border:solid 1px #ccc;width:10em;color:black;font-weight: bold;" 
              placeholder="Hasil..."  type="text" value="{{x.keterangan}}" 
           
              > -->
              </td>
              <td style="text-align: right">
                <div
                  class="badge bg-pill bg-info"
                  (click)="
                    tambahetiket(
                      content12,
                      '1',
                      x.obat,
                      x.signa,
                      x.aturanminum,
                      x.qty,
                      x.keterangan,
                      x.kdobat
                    )
                  "
                >
                  E
                </div>
                <div
                  class="badge bg-pill bg-danger"
                  (click)="
                    hapusetiket(
                      '1',
                      x.obat,
                      x.signa,
                      x.aturanminum,
                      x.qty,
                      x.keterangan,
                      x.kdobat
                    )
                  "
                >
                  X
                </div>
              </td>
            </tr>

            <tr>
              <td style="width: 210px"></td>

              <td></td>
              <td></td>
              <td></td>

              <td></td>

              <td style="text-align: right">
                <button
                  class="btn-wide btn-outline-2x me-md-2 btn btn-outline-focus btn-sm"
                  (click)="tambahetiket(content12, '2')"
                >
                  Tambah
                </button>
                <button
                  class="btn-wide btn-outline-2x me-md-2 btn btn-outline-focus btn-sm"
                  (click)="cetaketiket()"
                >
                  Cetak
                </button>
                <button
                  class="btn-wide btn-outline-2x me-md-2 btn btn-outline-focus btn-sm"
                  (click)="close()"
                >
                  Close
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="card-body">
    <ng-template
      #content6
      let-c="close"
      let-d="dismiss"
      class="modal-fullscreen"
    >
      <div class="modal-header">
        <h6 class="modal-title">List Pasien</h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-4">
            <div class="input-group">
              <div class="input-group-text">
                <div class="">
                  <fa-icon [icon]="faSearch"></fa-icon>
                </div>
              </div>
              <input
                placeholder="Search..."
                (keyup)="caripass($event)"
                type="text"
                class="form-control"
              />
            </div>
          </div>
          <div class="col-md-4">
            <div class="input-group">
              <select
                [(ngModel)]="caripas"
                style="font-size: 12px"
                class="form-select"
                (change)="onChange($event.target.value)"
              >
                <option value="2">By Nama</option>
                <option value="1">By NoFaktur</option>
              </select>
            </div>
          </div>
          <div class="col-md-4">
            <div class="input-group">
              <label for="exampleSelect" class="form-label" style="color: black"
                >Tanggal</label
              >
              <input
                style="
                  border-radius: 5px;
                  border: solid 1px #ccc;
                  width: 11.5em;
                "
                type="date"
                [(ngModel)]="tglp"
                (change)="ktglrad()"
              />
            </div>
          </div>
        </div>

        <div class="table-responsive" style="font-size: 12px">
          <table class="table table-striped">
            <thead>
              <tr>
                <th scope="col">NO.AN</th>
                <th scope="col">TGL</th>
                <th scope="col">NORM</th>

                <th scope="col">NAMA</th>
                <th scope="col">UMUR/th</th>
                <th scope="col">AlAMAT</th>

                <th scope="col">POLI</th>
                <th scope="col">DOKTER</th>
                <th scope="col">KOSTUMER</th>
                <th scope="col">NOTRANSAKSI</th>
                <th scope="col">ACT</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let x of tbeli" style="border-bottom: 1px solid grey">
                <td>
                  <div class="badge bg-pill bg-warning">
                    {{ x.no_antrian }}
                  </div>
                </td>
                <td style="font-size: 12px; color: black">
                  {{ x.tgl }}
                </td>

                <td style="font-size: 12px; color: black">
                  {{ x.norm }}
                </td>
                <td style="font-size: 12px; color: black">
                  {{ x.pasien }}
                </td>
                <td style="font-size: 12px; color: black">
                  {{ x.age }}
                </td>
                <td style="font-size: 12px; color: black">
                  {{ x.alamat }}
                </td>
                <td style="font-size: 12px; color: black">
                  {{ x.nampoli }}
                </td>
                <td style="font-size: 12px; color: black">
                  {{ x.namdokter }}
                </td>
                <td style="font-size: 12px; color: black">
                  {{ x.nama }}
                </td>
                <td style="font-size: 12px; color: black">
                  <div class="badge bg-pill bg-primary" *ngIf="x.sts === '0'">
                    Belum Verif
                  </div>
                  {{ x.notransaksi }}
                </td>
                <td>
                  <div
                    class="badge bg-pill bg-danger btn"
                    (click)="pilihpasien(x)"
                  >
                    P
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">Total Pasien : {{ totalpasenlist }}</div>
    </ng-template>

    <ng-template #contented let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">List Obat ED Total ED : {{ totaled }}</h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>
      <div class="modal-body">
        <div class="table-responsive" style="font-size: 12px">
          <table class="table table-striped">
            <thead>
              <tr>
                <th scope="col">OBAT</th>
                <th scope="col">QTY</th>

                <th scope="col">TGL ED</th>
                <th scope="col">GUDANG</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let x of tmped">
                <td style="font-size: 12px; color: black">
                  {{ x.OBAT }}
                </td>

                <td style="font-size: 12px; color: black">
                  {{ x.QTY }}
                </td>
                <td style="font-size: 12px; color: black">
                  {{ x.TGLEX }}
                </td>
                <td style="font-size: 12px; color: black">
                  {{ x.gudang }}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="cetaklaped()">
          Cetak Laporan
        </button>

        <button type="button" class="btn btn-danger" (click)="musnahkan()">
          Musnahkan Stok
        </button>
      </div>
    </ng-template>

    <ng-template #content7 let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">Laporan</h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>

      <div class="modal-body">
        <div class="position-relative mb-3">
          <label
            for="exampleEmail"
            class="form-label"
            style="font-weight: bold"
          >
            DARI
          </label>
          <input
            [(ngModel)]="tgldari"
            placeholder="Pasien"
            type="date"
            class="form-control"
          />
        </div>

        <div class="position-relative mb-3" *ngIf="!num3">
          <label
            for="exampleEmail"
            class="form-label"
            style="font-weight: bold"
          >
            SAMPAI
          </label>
          <input
            [(ngModel)]="tglsampai"
            placeholder="Pasien"
            type="date"
            class="form-control"
          />
        </div>
        <div class="position-relative mb-3" *ngIf="num2">
          <label
            for="exampleEmail"
            class="form-label"
            style="font-weight: bold"
          >
            User
          </label>
          <ng-select
            [items]="tmpusers"
            bindLabel="nama"
            bindValue="username"
            placeholder="pasien"
            [(ngModel)]="usercetak"
            (keyup)="caripasienc($event)"
            (change)="pilihpasienc()"
          >
          </ng-select>
        </div>

        <!-- <div class="position-relative mb-3"  *ngIf="num2">
      

          <input type="checkbox"  value="Bike" [(ngModel)]="detaillap">
          <label for="vehicle1"> Detail</label>
        </div> -->
      </div>

      <div class="modal-footer">
        <button
          type="button"
          *ngIf="num1"
          class="btn btn-secondary"
          (click)="cetakfakturp()"
        >
          Lihat
        </button>
        <button
          type="button"
          *ngIf="num2"
          class="btn btn-secondary"
          (click)="cetakkridit()"
        >
          Lihat
        </button>
        <!-- <button type="button"  *ngIf="num2" class="btn btn-secondary"  (click)="cetakcash()">Lihat Cash</button> -->

        <button
          type="button"
          *ngIf="num3"
          class="btn btn-secondary"
          (click)="cetakfaktursp()"
        >
          Lihat
        </button>
      </div>
    </ng-template>

    <ng-template #content8 let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">List Pasien</h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-3">
            <div class="input-group">
              <div class="input-group-text">
                <div class="">
                  <fa-icon [icon]="faSearch"></fa-icon>
                </div>
              </div>
              <input
                placeholder="Search..."
                (keyup)="caripasienlist($event)"
                type="text"
                class="form-control"
              />
            </div>
          </div>
          <div class="col-md-3">
            <div class="input-group">
              <select
                [(ngModel)]="statuscaripas"
                style="font-size: 12px"
                class="form-select"
                (change)="onChangec($event.target.value)"
              >
                <option value="1">Pasien RJ</option>
                <option value="3">Pasien RI</option>

                <option value="2">Semua Pasien</option>
              </select>
            </div>
          </div>
          <div class="col-md-3">
            <div class="input-group">
              <select
                [(ngModel)]="caritipe"
                style="font-size: 12px"
                class="form-select"
              >
                <option value="6">By Norm</option>
                <option value="5">By Pasien</option>
              </select>
            </div>
          </div>
          <div class="col-md-3">
            <div class="input-group">
              <input
                style="
                  border-radius: 5px;
                  border: solid 1px #ccc;
                  width: 11.5em;
                "
                type="date"
                [(ngModel)]="tglp"
                (change)="ktglradr()"
              />
            </div>
          </div>
        </div>

        <div class="table-responsive" style="font-size: 12px">
          <table class="table table-striped">
            <thead>
              <tr>
                <th scope="col">NORM</th>
                <th scope="col">PASIEN</th>
                <th scope="col">DOKTER</th>

                <th scope="col">POLIKLNIK</th>
                <th scope="col">ACT</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let x of tpasien">
                <td style="font-size: 12px; color: black">
                  {{ x.norm }}
                </td>
                <td style="font-size: 12px; color: black">
                  {{ x.pasien }}
                </td>

                <td style="font-size: 12px; color: black">
                  {{ x.namdokter }}
                </td>
                <td style="font-size: 12px; color: black">
                  {{ x.nampoli }}
                </td>

                <td>
                  <div
                    class="badge bg-pill bg-danger"
                    (click)="
                      pilihpasienx(
                        x.norm,
                        x.kddokter,
                        x.kdkostumerd,
                        x.notransaksi,
                        x.pasien,
                        x.nampoli,
                        x.namdokter,
                        x.nama,
                        x.kdpoli,
                        x.sts,
                        x.kdkamar
                      )
                    "
                  >
                    P
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer"></div>
    </ng-template>

    <ng-template #content9 let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">List Dokter</h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6">
            <div class="input-group">
              <div class="input-group-text">
                <div class="">
                  <fa-icon [icon]="faSearch"></fa-icon>
                </div>
              </div>
              <input
                placeholder="Search..."
                (keyup)="caridokter($event)"
                type="text"
                class="form-control"
              />
            </div>
          </div>

          <div class="col-md-6"></div>
        </div>

        <div class="table-responsive" style="font-size: 12px">
          <table class="table table-striped">
            <thead>
              <tr>
                <th scope="col">DOKTER</th>

                <th scope="col" style="text-align: right">ACT</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let x of tdokter">
                <td style="font-size: 12px; color: black">
                  {{ x.namdokter }}
                </td>

                <td style="text-align: right">
                  <div
                    class="badge bg-pill bg-danger"
                    (click)="pilihdokter(x.kddokter, x.namdokter)"
                  >
                    P
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer"></div>
    </ng-template>

    <ng-template #content10 let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">List Kostumer</h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6">
            <div class="input-group">
              <div class="input-group-text">
                <div class="">
                  <fa-icon [icon]="faSearch"></fa-icon>
                </div>
              </div>
              <input
                placeholder="Search..."
                (keyup)="carikostumer($event)"
                type="text"
                class="form-control"
              />
            </div>
          </div>

          <div class="col-md-6"></div>
        </div>

        <div class="table-responsive" style="font-size: 12px">
          <table class="table table-striped">
            <thead>
              <tr>
                <th scope="col">KOSTUMER</th>
                <th scope="col">AlAMAT</th>

                <th scope="col" style="text-align: right">ACT</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let x of tkostumer">
                <td style="font-size: 12px; color: black">
                  {{ x.nama }}
                </td>
                <td style="font-size: 12px; color: black">
                  {{ x.alamat }}
                </td>

                <td style="text-align: right">
                  <div
                    class="badge bg-pill bg-danger"
                    (click)="pilihkostumer(x.kdkostumerd, x.nama)"
                  >
                    P
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer"></div>
    </ng-template>

    <ng-template #content11 let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">List Poliklinik</h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6">
            <div class="input-group">
              <div class="input-group-text">
                <div class="">
                  <fa-icon [icon]="faSearch"></fa-icon>
                </div>
              </div>
              <input
                placeholder="Search..."
                (keyup)="caripoli($event)"
                type="text"
                class="form-control"
              />
            </div>
          </div>

          <div class="col-md-6"></div>
        </div>

        <div class="table-responsive" style="font-size: 12px">
          <table class="table table-striped">
            <thead>
              <tr>
                <th scope="col">Poliklinik</th>

                <th scope="col" style="text-align: right">ACT</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let x of tpoli">
                <td style="font-size: 12px; color: black">
                  {{ x.nampoli }}
                </td>

                <td style="text-align: right">
                  <div
                    class="badge bg-pill bg-danger"
                    (click)="pilihpoli(x.kdpoli, x.nampoli)"
                  >
                    P
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer"></div>
    </ng-template>

    <ng-template #content12 let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">Tambah Etiket</h6>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>
      <div class="modal-body">
        <div class="position-relative mb-3">
          <label for="exampleEmail" class="form-label">Nama</label>
          <input
            [(ngModel)]="namaetiket"
            placeholder="Nama "
            type="text"
            class="form-control"
          />
        </div>
        <div class="position-relative mb-3">
          <label for="exampleEmail" class="form-label">Signa</label>
          <input
            [(ngModel)]="signae"
            placeholder="Signa"
            type="text"
            class="form-control"
          />
        </div>

        <div class="position-relative mb-3">
          <label for="exampleSelect" class="form-label">Aturan Minum</label>
          <select [(ngModel)]="aturane" id="exampleSelect" class="form-select">
            <option value="Sebelum Makan">Sebelum Makan</option>
            <option value="Sesudah Makan">Sesudah Makan</option>
            <option value="Bersama Makan">Bersama Makan</option>
          </select>
        </div>

        <div class="position-relative mb-3">
          <label for="exampleEmail" class="form-label">Qty</label>
          <input
            [(ngModel)]="qtye"
            placeholder="Qty"
            type="text"
            class="form-control"
          />
        </div>

        <div class="position-relative mb-3">
          <label for="exampleEmail" class="form-label">Keterangan</label>
          <input
            [(ngModel)]="kete"
            placeholder="Keterangan"
            type="text"
            class="form-control"
          />
        </div>
      </div>
      <div class="modal-footer">
        <button
          *ngIf="showtombol"
          class="btn-wide btn-outline-2x me-md-2 btn btn-outline-focus btn-sm"
          (click)="editetiket()"
        >
          EDIT
        </button>
        <button
          *ngIf="!showtombol"
          class="btn-wide btn-outline-2x me-md-2 btn btn-outline-focus btn-sm"
          (click)="simpanetiket()"
        >
          SIMPAN
        </button>
      </div>
    </ng-template>

    <ng-template #content13 let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">Pembayaran Obat</h6>

        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>
      <div class="modal-body">
        <b>Nominal : {{ ttlsisaterbayar | currency : "IDR" }}</b>
        <form [formGroup]="profileForm">
          <div class="position-relative mb-3">
            <label for="exampleSelect" class="form-label"
              >Jenis Pembayaran</label
            >
            <select
              formControlName="jbayari"
              [(ngModel)]="jbayari"
              id="exampleSelect"
              class="form-select"
              (change)="jbayar($event.target.value)"
            >
              <option value="">PILIH</option>
              <option *ngFor="let x of tjenisbayar" value="{{ x.kd }}">
                {{ x.bayar }}
              </option>
            </select>
          </div>
        </form>
        <table class="table table-striped" *ngIf="showlstbank">
          <tbody>
            <tr>
              <td>
                <div class="position-relative mb-3">
                  <label for="exampleEmail" class="form-label">Yg Masuk </label>
                  <input
                    disabled
                    [(ngModel)]="yangmasuk"
                    placeholder="Jumlah Uang"
                    type="number"
                    class="form-control"
                  />
                </div>
              </td>
              <td>
                <label for="exampleSelect" class="form-label">Bank</label>
                <select
                  [(ngModel)]="banklis"
                  id="exampleSelect"
                  class="form-select"
                >
                  <option value="x"></option>
                  <option *ngFor="let x of lstbank" value="{{ x.kdakun }}">
                    {{ x.akun }}
                  </option>
                </select>
              </td>
              <td>
                <div class="position-relative mb-3">
                  <label for="exampleEmail" class="form-label"
                    >Keterangan
                  </label>
                  <input
                    [(ngModel)]="keterangb"
                    placeholder="Keterangan"
                    type="text"
                    class="form-control"
                  />
                </div>
              </td>
            </tr>
          </tbody>
        </table>

        <div class="position-relative mb-3">
          <label for="exampleEmail" class="form-label">Jumlah Di Bayar </label>
          <input
            disabled
            [(ngModel)]="jumlahpasien"
            placeholder="Jumlah Uang"
            type="number"
            class="form-control"
          />
          <!-- <b>Kurang</b>: {{kurangbayar | currency:'IDR'}} -->
        </div>

        <div class="position-relative mb-3">
          <label for="exampleEmail" class="form-label"
            >Jumlah Uang Dari Pasien</label
          >
          <input
            [(ngModel)]="jumlahpasienx"
            placeholder="Jumlah Uang Dari Pasien"
            type="number"
            class="form-control"
            (keyup)="jmlu($event)"
          />
        </div>

        <div class="position-relative mb-3">
          <label for="exampleEmail" class="form-label">Kembalian</label>

          <input
            currencyMask
            [(ngModel)]="kembalian"
            [options]="{
              prefix: ' ',
              precision: 0,
              thousands: '.',
              decimal: ','
            }"
            class="form-control"
          />
        </div>
      </div>

      <div class="modal-footer">
        <button
          [disabled]="!profileForm.valid"
          class="btn-pill btn-shadow btn btn-primary"
          (click)="bayartagihanakhir()"
        >
          BAYAR
        </button>
      </div>
    </ng-template>

    <ng-template #contenttf let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">Transfer</h6>

        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>

      <div class="modal-body">
        <div class="position-relative mb-3">
          <label for="exampleEmail" class="form-label">Notransaksi RI</label>
          <input [(ngModel)]="notransaksiri" disabled class="form-control" />
        </div>
        <div class="position-relative mb-3">
          <label for="exampleEmail" class="form-label">Kamar</label>
          <input [(ngModel)]="kamarri" disabled class="form-control" />
        </div>
        <div class="position-relative mb-3">
          <label for="exampleEmail" class="form-label">Jumlah Biaya</label>
          <input [(ngModel)]="ttlsisaterbayar" disabled class="form-control" />
        </div>
      </div>
      <div class="modal-footer">
        <button
          class="btn-pill btn-shadow btn btn-primary"
          (click)="kliktransfer()"
        >
          TRANSFER BIAYA
        </button>
      </div>
    </ng-template>

    <ng-template #content13x let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h6 class="modal-title">Kajian Resep</h6>

        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="d('Cross click')"
        ></button>
      </div>

      <div class="modal-body">
        <div class="table-responsive">
          <table class="table table-striped">
            <thead>
              <tr>
                <th scope="col">Nama</th>

                <th scope="col">Status</th>
                <th scope="col">keterengan</th>
              </tr>
            </thead>
            <tbody style="font-size: 12px; color: black">
              <tr>
                <td colspan="3">
                  <b style="color: black">Persyaratan Administrasi</b>
                </td>
              </tr>

              <tr>
                <td>
                  <p>Nama pasien</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="nama_pasien">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="nama_pasien_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Alamat pasien</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="alamat_pasien">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="alamat_pasien_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Umur</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="umur_pasien">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="umur_pasien_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Berat badan</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="berat_badan">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="berat_badan_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Jenis kelamin</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="jenis_kelamin">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="jenis_kelamin_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Nama dokter</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="nama_dokter">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="nama_dokter_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Nomor ijin (SIP)</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="nomor_ijin">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="nomor_ijin_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Alamat dokter/no tlp</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="alamat_dokter">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="alamat_dokter_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Paraf/tanda tangan dokter</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="tanda_tangan_dokter">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="tanda_tangan_dokter_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Tempat dan tanggal penulisan resep</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="tempat_tanggal_resep">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="tempat_tanggal_resep_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <!-- selesai 1 -->

              <tr>
                <td colspan="3">
                  <b style="color: black">Persyaratan Farmasetik</b>
                </td>
              </tr>

              <tr>
                <td>
                  <p>Nama obat</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="nama_obat">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="nama_obat_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Bentuk sediaan</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="bentuk_sediaan">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="bentuk_sediaan_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Kekuatan sediaan obat</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="kekuatan_sediaan_obat">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="kekuatan_sediaan_obat_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Jumlah obat</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="jumlah_obat">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="jumlah_obat_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Stabilitas dan inkompabilitas</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="stabilitas_dan_inkompabilitas">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="stabilitas_dan_inkompabilitas_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Aturan dan cara penggunaan obat</p>
                </td>
                <td>
                  <mat-radio-group
                    [(ngModel)]="aturan_dan_cara_penggunaan_obat"
                  >
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="aturan_dan_cara_penggunaan_obat_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <!-- akhir 2 -->
              <tr>
                <td colspan="3">
                  <b style="color: black">Masalah Terkait Obat</b>
                </td>
              </tr>

              <tr>
                <td>
                  <p>Ketidaktepatan seleksi obat</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="ketidaktepatan_seleksi_obat">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="ketidaktepatan_seleksi_obat_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Dosis kurang</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="dosis_kurang">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="dosis_kurang_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Dosis lebih</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="dosis_lebih">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="dosis_lebih_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Duplikasi</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="duplikasi">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="duplikasi_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Obat tanpa indiksi</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="obat_tanpa_indikasi">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="obat_tanpa_indikasi_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Indikasi tidak diobati</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="indikasi_tidak_diobati">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="indikasi_tidak_diobati_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>

              <tr>
                <td>
                  <p>Interaksi obat</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="interaksi_obat">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="interaksi_obat_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>
              <tr>
                <td>
                  <p>Reaksi obat merugikan (ROM)</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="reaksi_obat_merugikan">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="reaksi_obat_merugikan_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>
              <tr>
                <td>
                  <p>Gagal menerima obat</p>
                </td>
                <td>
                  <mat-radio-group [(ngModel)]="gagal_menerima_obat">
                    <mat-radio-button value="Ada">Ada</mat-radio-button>
                    <mat-radio-button value="Tidak">Tidak</mat-radio-button>
                  </mat-radio-group>
                </td>
                <td>
                  <input
                    [(ngModel)]="gagal_menerima_obat_ket"
                    style="border-radius: 5px; border: solid 1px #ccc"
                    placeholder="keterangan..."
                    type="text"
                  />
                </td>
              </tr>
              <tr>
                <b>Analis</b>
                <td colspan="3">
                  <textarea
                    [(ngModel)]="analisa"
                    style="width: 100%"
                    placeholder="Analis"
                  ></textarea>
                </td>
              </tr>
              <tr>
                <b>Konseling</b>
                <td colspan="3">
                  <textarea
                    [(ngModel)]="konseling"
                    style="width: 100%"
                    placeholder="Konseling"
                  ></textarea>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="modal-footer">
        <button
          *ngIf="!tomboledit"
          class="btn-pill btn-shadow btn btn-primary"
          (click)="simpankajian()"
        >
          SIMPAN
        </button>
        <button
          *ngIf="tomboledit"
          class="btn-pill btn-shadow btn btn-success"
          (click)="updatekajian()"
        >
          UBAH
        </button>
        <button
          class="btn-pill btn-shadow btn btn-secondary"
          (click)="cetakkajian()"
        >
          Cetak
        </button>
      </div>
    </ng-template>
  </div>
</div>
